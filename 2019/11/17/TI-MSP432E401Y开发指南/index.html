<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="参考链接:  MSP432E401Y MCU LaunchPad 中文页面 SimpleLink SDK Wi-Fi Plugin Users Guide SimpleLink Wi-Fi solutions CC31xx_&amp;amp;_CC32XX wiki exosite TI Cloud Tools CMSIS CMSIS-FreeRTOS TI SimpleLink GitHub CC25">
<meta name="keywords" content="嵌入式,TI,Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="TI-MSP432E401Y开发指南">
<meta property="og:url" content="http://yoursite.com/2019/11/17/TI-MSP432E401Y开发指南/index.html">
<meta property="og:site_name" content="Sunrise 博客">
<meta property="og:description" content="参考链接:  MSP432E401Y MCU LaunchPad 中文页面 SimpleLink SDK Wi-Fi Plugin Users Guide SimpleLink Wi-Fi solutions CC31xx_&amp;amp;_CC32XX wiki exosite TI Cloud Tools CMSIS CMSIS-FreeRTOS TI SimpleLink GitHub CC25">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/imgs/ti/msp432e401y_pinout.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/tre-example-import.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/msp-432-clount-device-detected.png">
<meta property="og:image" content="http://yoursite.com/img/ti/CCS%20Cloud%20-%20default.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/exp432-E401Y%20UniFlash.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccs920-install.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccs920-resource-expolrer.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9-res-settings.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccs920-tre-plugin-install.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccs920-prj-build-var-settings.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9-syscfg.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflashv3-uart-3100.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflashv3-uart-3100-DeviceRole.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflash-msp432e4-cc3120r-selected.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflash-msp432e4-cc3120r-new-project.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflashv5-cc3120r-connect.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflashv5-cc3120r-online-user-files.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/sysconfig_msp432e401y.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/sysconfig_cc3120boost.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/msp432e4-smartrf-fp.jpg">
<meta property="og:image" content="http://yoursite.com/imgs/ti/srf-fp2.jpg">
<meta property="og:image" content="http://yoursite.com/imgs/ti/uniflash-msp432e4-cc2650f128.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9_map_search_faultISR.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9_debug_registers_disasmbly.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9_debug_registers_core.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9_debug_memory_browser.png">
<meta property="og:image" content="http://yoursite.com/imgs/ti/ccsv9_debug_registers_nvic_fault_addr.png">
<meta property="og:image" content="http://yoursite.com/imgs/mm_reward_qrcode_1525013906055.png">
<meta property="og:updated_time" content="2021-12-15T12:52:18.820Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TI-MSP432E401Y开发指南">
<meta name="twitter:description" content="参考链接:  MSP432E401Y MCU LaunchPad 中文页面 SimpleLink SDK Wi-Fi Plugin Users Guide SimpleLink Wi-Fi solutions CC31xx_&amp;amp;_CC32XX wiki exosite TI Cloud Tools CMSIS CMSIS-FreeRTOS TI SimpleLink GitHub CC25">
<meta name="twitter:image" content="http://yoursite.com/imgs/ti/msp432e401y_pinout.png">

<link rel="canonical" href="http://yoursite.com/2019/11/17/TI-MSP432E401Y开发指南/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>TI-MSP432E401Y开发指南 | Sunrise 博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Sunrise 博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/17/TI-MSP432E401Y开发指南/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yjdwbj">
      <meta itemprop="description" content="最是人间留不住,朱颜辞镜花辞树">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sunrise 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          TI-MSP432E401Y开发指南
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-17 14:02:48" itemprop="dateCreated datePublished" datetime="2019-11-17T14:02:48+08:00">2019-11-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-15 20:52:18" itemprop="dateModified" datetime="2021-12-15T20:52:18+08:00">2021-12-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li><p>参考链接:</p>
<ul>
<li><a href="http://www.ti.com.cn/tool/cn/MSP-EXP432E401Y" target="_blank" rel="noopener">MSP432E401Y MCU LaunchPad 中文页面</a></li>
<li><a href="http://software-dl.ti.com/simplelink/esd/plugins/simplelink_sdk_wifi_plugin/2_40_00_22/exports/docs/users_guide_simplelink_sdk_wifi_plugin.html" target="_blank" rel="noopener">SimpleLink SDK Wi-Fi Plugin Users Guide</a></li>
<li><a href="http://www.ti.com/wireless-connectivity/simplelink-solutions/wi-fi/overview/overview.html" target="_blank" rel="noopener">SimpleLink Wi-Fi solutions</a></li>
<li><a href="http://processors.wiki.ti.com/index.php/CC31xx_&amp;_CC32xx" target="_blank" rel="noopener">CC31xx_&amp;_CC32XX wiki</a></li>
<li><a href="https://www.exosite.io/" target="_blank" rel="noopener">exosite</a></li>
<li><a href="https://dev.ti.com/" target="_blank" rel="noopener">TI Cloud Tools</a></li>
<li><a href="https://github.com/ARM-software/CMSIS_5" target="_blank" rel="noopener">CMSIS</a></li>
<li><a href="https://github.com/ARM-software/CMSIS-FreeRTOS" target="_blank" rel="noopener">CMSIS-FreeRTOS</a></li>
<li><a href="https://github.com/ti-simplelink/" target="_blank" rel="noopener">TI SimpleLink GitHub</a></li>
<li><a href="https://e2echina.ti.com/question_answer/w/faq/553.cc2640r2f-cc2640-cc2650" target="_blank" rel="noopener">CC25xx相关的FAQ</a></li>
<li><a href="https://www.ti.com.cn/tool/cn/BLE-STACK" target="_blank" rel="noopener">蓝牙协议栈</a></li>
<li><a href="https://e2echina.ti.com/question_answer/w/faq/526.msp432-faq" target="_blank" rel="noopener">MSP432 FAQ</a></li>
<li><a href="https://www.hackster.io/firmwareguru/secure-ota-firmware-update-with-cc2650-e14683" target="_blank" rel="noopener">Secure OTA Firmware Update with CC2650</a></li>
</ul>
</li>
</ul>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li>本篇基本都是参照TI官网的页面教程去实践学习的.所以一打开<a href="http://www.ti.com.cn/tool/cn/MSP-EXP432E401Y" target="_blank" rel="noopener">SimpleLink™ 以太网 MSP432E401Y MCU LaunchPad™ 开发套件</a>页面,就会看到一个描述,下面很简单明确的指明开始用<code>LaunchPad</code>的步骤:<ul>
<li>第 1 步:购买 <a href="https://www.ti.com/store/ti/en/p/product/?p=MSP-EXP432E401Y" target="_blank" rel="noopener">MSP-EXP432E401Y LaunchPad</a></li>
<li>第 2 步:下载 <a href="http://www.ti.com.cn/tool/cn/simplelink-msp432-sdk" target="_blank" rel="noopener">MSP432 SDK</a></li>
<li>第 3 步:<a href="http://dev.ti.com/tirex/#/?link=Software%2FSimpleLink%20MSP432E4%20SDK%2FSimpleLink%20Academy%2FLaunchPad%20Out-Of-Box%2FMSP-EXP432E401Y%20LaunchPad%20Out-Of-Box" target="_blank" rel="noopener">完成开箱即用</a>体验并接受 <a href="http://dev.ti.com/tirex/#/?link=Software%2FSimpleLink%20MSP432E4%20SDK%2FSimpleLink%20Academy" target="_blank" rel="noopener">SimpleLink Academy 培训</a></li>
<li><code>SimpleLink™</code>以太网<code>MSP432E401Y</code>微控制器<code>LaunchPad™</code>开发套件是针对基于<code>SimpleLink™ Arm® Cortex®-M4F</code>的以太网MCU的直观评估平台.以太网 <code>LaunchPad</code>开发套件通过集成以太网<code>MAC</code>和一系列有线通信接口(包括:USB-OTG,CAN,Quad-SPI(QSSI),I2C,SPI,UART以及其他串行协议)将重点放在 <code>MSP432E401Y MCU</code>上.</li>
<li><code>MSP432E4 MCU</code>采用了<code>120MHz Arm Cortex-M4F CPU、1MB 闪存、256kB SRAM</code>和先进的加密加速器,为开发人员提供大量的处理资源,从而实现有线和无线连接栈及处理算法,开发稳健的以太网解决方案.开发人员可利用大量<code>SimpleLink</code>无线<code>MCU BoosterPack™</code>插件模块和<code>SimpleLink</code>软件SDK插件,向应用无缝添加无线连接和云集成,从而构建支持物联网且可互操作的智能工业网关应用.</li>
<li><code>SimpleLink MCU SDK Driver</code>中的代码可以在所有<code>SimpleLink MCU</code>中100%可移植,所以即使需求改变,改用新的<code>SimpleLink MCU</code>也并不意味着必须重新开始.</li>
</ul>
</li>
</ul>
<h2 id="开箱即用体验"><a href="#开箱即用体验" class="headerlink" title="开箱即用体验"></a>开箱即用体验</h2><ul>
<li>这里的原教程是在<a href="http://dev.ti.com/tirex/explore" target="_blank" rel="noopener">TI Resource Explorer</a>里面,它的具体的路径是<code>Software--&gt; SimpleLink MSP432E4-SDK-3.30.00.22--&gt; SimpleLink Academy-3.30.01.00 --&gt; LaunchPad Out of Box Experience --&gt; MSP432E401Y LaunchPad Out of Box Experience</code></li>
<li>这里开箱使用体验是在<a href="https://www.exosite.io/business/auth/login?redirectTo=%2F" target="_blank" rel="noopener">Exosite loT 云平台</a>进行的,所以要先在该平台上注册一个帐号.但是现在看来,还要付费才可以使用,所以就没有试用了.</li>
<li><code>Pin</code>脚定义图:<br><img src="/imgs/ti/msp432e401y_pinout.png" alt="msp432e401y_pinout.png"></li>
</ul>
<h2 id="CC3120-BoosterPack-插件模块"><a href="#CC3120-BoosterPack-插件模块" class="headerlink" title="CC3120 BoosterPack 插件模块"></a>CC3120 BoosterPack 插件模块</h2><p>-<a href="https://processors.wiki.ti.com/index.php/CC3100_%26_CC3200_UniFlash" target="_blank" rel="noopener">CC3100 &amp; CC3200 UniFlash</a></p>
<ul>
<li><p>在<code>SimpleLink Academy/Overview</code>的页面里找到了这个<a href="http://dev.ti.com/tirex/#/?link=Software/SimpleLink%20SDK%20Plugins/Connectivity/SimpleLink%20SDK%20WiFi%20Plugin/SimpleLink%20Academy/LaunchPad%20Out%20of%20Box%20Experience/CC3120%20BoosterPack%20Out%20of%20Box%20Experience" target="_blank" rel="noopener">CC3120 BoosterPack 开箱体箱示例</a>链接,它的真实在路径是<a href="http://dev.ti.com/tirex/content/simplelink_academy_wifiplugin_2_40_00_17/modules/sdk_plugins/cc3120_boosterpack_oobe/cc3120_boosterpack_oobe.html" target="_blank" rel="noopener">CC3120 BoosterPack Out of Box Experience</a></p>
</li>
<li><p><a href="http://dev.ti.com/tirex/#/?link=Software%2FSimpleLink%20SDK%20Plugins%2FConnectivity%2FSimpleLink%20SDK%20WiFi%20Plugin%2FDocuments" target="_blank" rel="noopener">SimpleLink SDK Wi-Fi Plugin Documentation Overview</a>,这里选择的<code>TIREX</code>的绝对路径是<code>/Software/SimpleLink SDK Plugins/Connectivity/SimpleLinkSDKWiFiPlugin(2.40.00.22)/Examples/Development Tools/MSP432E401Y LaunchPad/Demos/ethernet_wifi_tcp_echo/</code>项目,还具体细分的不同操作系统,不同的工具平台:</p>
<ul>
<li>FreeRTOS<ul>
<li>CCS Compiler</li>
<li>GCC Compiler</li>
<li>IAR Compiler</li>
</ul>
</li>
<li>TI-RTOS<ul>
<li>CCS Compiler</li>
<li>GCC Compiler</li>
<li>IAR Compiler</li>
</ul>
</li>
</ul>
</li>
<li>如果在网页中打开的上述工程,可以使用右角<code>Import</code>导入到<code>CCS Cloud</code>中,如果在桌面版的<code>CCS IDE</code>中的<code>Resource Explorer</code>上述工程可以直接导入到本地的<code>workerspace</code>目录里.<br><img src="/imgs/ti/tre-example-import.png" alt="tre-example-import.png"></li>
</ul>
<h1 id="TI-云工具平台"><a href="#TI-云工具平台" class="headerlink" title="TI 云工具平台"></a>TI 云工具平台</h1><ul>
<li><p>通过浏览器打开<a href="https://dev.ti.com/" target="_blank" rel="noopener">https://dev.ti.com</a>会看到一个左边栏加中间一个九宫的格的工具列表.从上到下,从左到右,依次是<code>Resource Explorer,CCS Cloud,SysConfig,UniFlash,GUI Composer Gallery,BoosterPack Checker,PinMux,E2E Community</code>.<code>CCS Cloud</code>是一个网页版<code>CCS IDE</code>它可以从<code>Resource Explorer</code>导入示例工程,可以查看与编辑代码,但是不可以在线编译生成目标文件.<br><img src="/imgs/ti/msp-432-clount-device-detected.png" alt="msp-432-clount-device-detected.png"></p>
</li>
<li><p>CCS Cloud<br><img src="/img/ti/CCS Cloud - default.png" alt="CCS Cloud - default.png"></p>
</li>
<li><p>左侧边栏会提示安装<code>TI CLOUD AGENT</code>会提升使用体验.这里是使用<code>Firefox</code>浏览器,它会在浏览里安装<code>TICloudAgent Bridge</code>插件.如果是使用<code>Google Chrome</code>浏览器会提示无法安装浏览器插件,因为墙的原因.安装完插件还会提示<a href="https://dev.ti.com/ticloudagent/getInstaller?os=linux" target="_blank" rel="noopener">下载</a>安装<code>TI Cloud Agent Application</code>.安装完成<code>Agent</code>之后,刷新页面,侧边栏会提示安装一些必要的设备驱动,用于<code>Device detected</code>.如果它检测到支持的设备在线,会在侧边栏里显示设备的<code>ID号,Serial号</code>,以及相应的<code>Get Started!</code>导航链接,这里的连接<code>MSP-EXP432E401Y</code>会出现对应的<code>GUI Composer Gallery,Resource Expolrer,SimpleLink Acdemy</code>三个链接.</p>
</li>
<li>下面是使用在线版的<code>UniFlash</code>.<br><img src="/imgs/ti/exp432-E401Y UniFlash.png" alt="exp432-E401Y UniFlash.png"><ul>
<li>打开<code>Resource Expolrer --&gt; /Development/Kits and Boards/MSP432E401Y LaunchPad</code>会有该设备的详细描述,与《用户手册》等官方资料.</li>
<li>打开<code>SimpleLink Acdemy --&gt; /Software/SimpleLink MSP432E4 SDK (3.30.00.22)/SimpleLink Academy (3.30.01.00)/Overview</code>会有进入最新的<code>SDK</code>的学院教程页面.</li>
</ul>
</li>
</ul>
<h1 id="桌面版IDE安装-CCSv9"><a href="#桌面版IDE安装-CCSv9" class="headerlink" title="桌面版IDE安装(CCSv9)"></a>桌面版<code>IDE</code>安装(CCSv9)</h1><ul>
<li><a href="https://software-dl.ti.com/ccs/esd/documents/ccs_linux_host_support.html" target="_blank" rel="noopener">CCS 版本历史与支持列表</a></li>
<li><a href="http://processors.wiki.ti.com/index.php/Category:CCS_UniFlash" target="_blank" rel="noopener">CCS_UniFlash</a></li>
<li><a href="http://software-dl.ti.com/ccs/esd/uniflash/docs/v5_0/quick_start_guide/uniflash_quick_start_guide.html" target="_blank" rel="noopener">UniFlash 快速使用指南</a></li>
<li><code>CCSTUDIO</code>其实也是在<code>Eclipse</code>平台上二次开发出来的,所以使用习惯都与原生<code>Eclipse IDE</code>是一样的.<a href="https://www.ti.com.cn/tool/cn/CCSTUDIO-MSP" target="_blank" rel="noopener">下载位置</a>需要在<code>ti.com</code>里注册一个帐号并同意它的使用条款. 也可以去<code>TI Resource Explorer</code>打开树结构位置<code>Development Tools -&gt; Integrated Development Environements -&gt; Code Composer Studio -&gt; Downloads</code>页面进行下载.</li>
<li><a href="http://www.ti.com/tool/download/SYSCONFIG" target="_blank" rel="noopener">SYSCONFIG 系统配置工具</a></li>
<li><a href="https://stackoverflow.com/questions/17431989/where-does-eclipse-store-preferences" target="_blank" rel="noopener">StackOverFlow Eclipse 配置文件位置</a></li>
<li><a href="https://software-dl.ti.com/ccs/esd/training/workshop/ccsv9/ccs_simplelink-fundamentals-workshop-chinese.html" target="_blank" rel="noopener">使用 CCS 调试 SimpleLink LaunchPad 入门教程</a></li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><img src="/imgs/ti/ccs920-install.png" alt="ccs920-install.png"></p>
<h2 id="安装-SDK"><a href="#安装-SDK" class="headerlink" title="安装 SDK"></a>安装 SDK</h2><h2 id="通过使用TI-Resource-Explorer安装"><a href="#通过使用TI-Resource-Explorer安装" class="headerlink" title="通过使用TI Resource Explorer安装"></a>通过使用<code>TI Resource Explorer</code>安装</h2><ul>
<li>在<code>CCSv9</code>首面板里<code>Getting Started</code>页里有<code>Resource Explorer(Examples &amp; Docs),New Proejct, Import Proejct</code>三个快捷链接.这里选择打开<code>Resources Explorer</code>,打开会一直显示<code>Starting TIREX ...</code>,视本机的网速快慢而定,如果偶然打开它了,最好是把自己需要用到的<code>SDK</code>全部下载到本地,防止失联.<br><img src="/imgs/ti/ccs920-resource-expolrer.png" alt="ccs920-resource-expolrer.png"></li>
<li><p>打开可以设置 SDK 的下载路径,如下:<br><img src="/imgs/ti/ccsv9-res-settings.png" alt="ccsv9-res-settings.png"><br><img src="/imgs/ti/ccs920-tre-plugin-install.png" alt="ccs920-tre-plugin-install.png"></p>
</li>
<li><p>因为学习一种单片机的最好的方法是查看它官方的文档与SDK的示例,TI的官方文档与<code>SDK</code>示例非常丰富,除了线上的<code>dev.ti.com</code>可以在线查看之外,一般手动下载的<code>SDK</code>压缩包里,除了库文件之外还有文档与工具,这里是学习它最权威的资料.一个典型的<code>SDK</code>目录结构如下:</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">~$ simplelink_msp432e4_sdk_3_30_00_22$ tree -L 2</span><br><span class="line">.</span><br><span class="line">├── changelog.html</span><br><span class="line">├── docs</span><br><span class="line">│   ├── Documentation_Overview.html</span><br><span class="line">│   ├── driverlib</span><br><span class="line">│   ├── grlib</span><br><span class="line">│   ├── mbedtls</span><br><span class="line">│   ├── ndk</span><br><span class="line">│   ├── ns</span><br><span class="line">│   ├── simplelink_mcu_sdk</span><br><span class="line">│   ├── tidrivers</span><br><span class="line">│   ├── tiposix</span><br><span class="line">│   ├── tirtos</span><br><span class="line">│   ├── tiutils</span><br><span class="line">│   └── usblib</span><br><span class="line">├── examples</span><br><span class="line">│   ├── nortos</span><br><span class="line">│   └── rtos</span><br><span class="line">├── imports.mak.windows</span><br><span class="line">├── kernel</span><br><span class="line">│   ├── freertos</span><br><span class="line">│   ├── makefile</span><br><span class="line">│   ├── nortos</span><br><span class="line">│   └── tirtos</span><br><span class="line">├── license_simplelink_msp432e4_sdk_3_30_00_22.txt</span><br><span class="line">├── manifest_simplelink_msp432e4_sdk_3_30_00_22.html</span><br><span class="line">├── release_notes_simplelink_msp432e4_sdk_3_30_00_22.html</span><br><span class="line">├── <span class="built_in">source</span></span><br><span class="line">│   ├── third_party</span><br><span class="line">│   └── ti</span><br><span class="line">└── tools</span><br><span class="line">    ├── examples</span><br><span class="line">    ├── iar</span><br><span class="line">    ├── image_reformer</span><br><span class="line">    └── usblib</span><br></pre></td></tr></table></figure>
<h2 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h2><ul>
<li>因为<code>Resource Explorer</code>在国内访问很不稳定,经常打不开,所以打开时可以先把这些文件下载下来,或者打包起来移到其它电脑的新系统里安装.只要在<code>Window -&gt; Preferences -&gt; Code Composer Studio -&gt; Products</code>添加要<code>SDK</code>的路径,就可以把相应的<code>SDK</code>文件安装上来了.</li>
</ul>
<h2 id="导入官方-CCS-示例工程"><a href="#导入官方-CCS-示例工程" class="headerlink" title="导入官方 CCS 示例工程"></a>导入官方 CCS 示例工程</h2><ul>
<li>这里使用一个官方<code>Demo</code>来测试一下板子组件是否运行正常,<code>ethernet_wifi_tcp_echo</code>它位于<code>TIREX</code>的目录下<code>/Software/SimpleLink SDK Plugins/Connectivity/SimpleLink SDK WiFi Plugin (2.40.00.22)/Examples/Development Tools/MSP432E401Y LaunchPad/Demos/ethernet_wifi_tcp_echo/</code>,很显然这里还需要安装<code>SimpleLink SDK WiFi Plugin-2.40.00.22</code>版本的<code>SDK</code>我这里选择是<code>FreeRTOS</code>,所以还要指定 <code>FreeRTOS</code>的目录.</li>
</ul>
<h3 id="设置FreeRTOS目录"><a href="#设置FreeRTOS目录" class="headerlink" title="设置FreeRTOS目录"></a>设置<code>FreeRTOS</code>目录</h3><ul>
<li>如果工程中有用到<code>FreeRTOS</code>的但是又没有指定它的路径,会报下面的错误.<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**** Build Finished ****</span><br><span class="line">Buildfile generation error occurred..</span><br><span class="line">Required variable <span class="string">'FREERTOS_INSTALL_DIR'</span> cannot be resolved or is pointing to a non-existent location.</span><br><span class="line">See <span class="string">'Preferences &gt; CCS &gt; Build &gt; Variables'</span> page to define this variable before building this project.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/imgs/ti/ccs920-prj-build-var-settings.png" alt="ccs920-prj-build-var-settings.png"></p>
<h3 id="设置工程参数"><a href="#设置工程参数" class="headerlink" title="设置工程参数"></a>设置工程参数</h3><ul>
<li><a href="simplelink_msp432e4_sdk/3.30.00.22/docs/simplelink_mcu_sdk/Users_Guide.html#sysconfig">SysConfig</a></li>
<li><code>Syscfg</code> 配置或查看,应该是属于类似<code>STM32CubeMX</code>的工具,如果使用<code>Syscfg</code>配置,就会根据配置的参数,在工程目录下自动生成<code>Debug/syscfg/{Board.h,Board.c</code>文件,相当于把图行里配置参数自动生成代码,一般<code>SimpleLink SDK</code>的示例工程都会带有<code>Syscfg</code>支持,如果自建工程没有话,可以在工程目录新建一个后缀名为<code>.syscfg</code>的文件,打开工程的<code>Properties --&gt; Build --&gt; Sysconfig --&gt; Summary of falgs set:</code> 加入下面设置:</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意,SDK_DIR 是SDK的根目录绝对路径.</span></span><br><span class="line">-s <span class="string">"&lt;SDK_DIR&gt;/simplelink_msp432e4_sdk_4_10_00_13/.metadata/product.json"</span> -o <span class="string">"syscfg"</span> --compiler ccs</span><br></pre></td></tr></table></figure>
<ul>
<li>,<code>IDE</code>识别后,会调用系统内的<code>SysConfg</code>来向导编辑与配置.如果不喜欢此工具,也可以手动生成这样的板子定义文件.<br><img src="/imgs/ti/ccsv9-syscfg.png" alt="ccsv9-syscfg.png"></li>
<li><p>导入<code>ethernet_wifi_tcp_echo</code>到本地<code>CCS</code>里后,要详细阅读<code>ethernet_wifi_tcp_echo_MSP_EXP432E401Y_freertos_ccs/README.html</code>文档.下面是按照文档提示,需要修改<code>network_if.h</code>里的<code>SSID</code>与<code>SECURITY_KEY</code>,也就是说要把它配置成可以连接到你周围的<code>WIFI</code>.</p>
</li>
<li><p>这下面是在工程里<code>main_freertos.c</code>添加一段测试<code>FreeRTOS</code>创建多任务的示例.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">const char *pcTextForTask1 = <span class="string">"Task 1 is running\r\n"</span>;</span><br><span class="line">const char *pcTextForTask2 = <span class="string">"Task 2 is running\r\n"</span>;</span><br><span class="line">static void vTaskFunction(void *pvParameters)</span><br><span class="line">&#123;</span><br><span class="line">    char *pcTaskName;</span><br><span class="line"></span><br><span class="line">    pcTaskName = (char*)pvParameters;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s"</span>,pcTaskName);</span><br><span class="line">        vTaskDelay(250);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">  /* 此处代码省略 */</span><br><span class="line">  ......</span><br><span class="line">  /* 创建测试任务*/</span><br><span class="line">    xTaskCreate(vTaskFunction,</span><br><span class="line">                <span class="string">"Task 1"</span>,</span><br><span class="line">                1000,</span><br><span class="line">                (void*)pcTextForTask1,</span><br><span class="line">                1,</span><br><span class="line">                NULL);</span><br><span class="line">    xTaskCreate(vTaskFunction,</span><br><span class="line">                    <span class="string">"Task 2"</span>,</span><br><span class="line">                    1000,</span><br><span class="line">                    (void*)pcTextForTask2,</span><br><span class="line">                    1,</span><br><span class="line">                    NULL);</span><br><span class="line">    vTaskStartScheduler();</span><br><span class="line">    <span class="built_in">return</span> (0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>上述修改保存后,接上板子,按<code>F11</code>直接<code>Debug</code>运行,如果无错,就会在 <code>IDE</code>下方的<code>Console</code>窗口看到不断交错输出<code>Task 2 is running</code>,<code>Task 1 is running</code>信息.</p>
</li>
<li>再打开另一个终端使用<code>minicom -o -b 115200 -D /dev/ttyACM0</code>打开会看到如下信息:</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[WLAN EVENT] STA Connected to the AP: lcy-y1s-2.4G , BSSID: 20:76:93:0:ac:8</span><br><span class="line"></span><br><span class="line">[NETAPP EVENT] IP acquired by the device</span><br><span class="line"></span><br><span class="line">WiFi Interface has connected to lcy-y1s-2.4G</span><br><span class="line"></span><br><span class="line">WiFi Interface IP Address is 192.168.1.115</span><br><span class="line"></span><br><span class="line">WiFi Interface connected and started</span><br></pre></td></tr></table></figure>
<ul>
<li><p>按文档提示,用 <code>putty</code>打开一个<code>telnet</code> 连接到<code>192.168.1.115:1000</code>端口.就会显示如下:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WiFi: Creating thread clientfd = 1</span><br><span class="line">wifi0: start clientfd = 0x1</span><br></pre></td></tr></table></figure>
</li>
<li><p>在TI驱动程序库中,提供了两种编程模型来支持用户的程序开发:直接寄存器访问(DRA)模型和软件驱动程序(SD)模型.</p>
</li>
</ul>
<h2 id="CC3100BOOST无线WIFI模块"><a href="#CC3100BOOST无线WIFI模块" class="headerlink" title="CC3100BOOST无线WIFI模块"></a>CC3100BOOST无线WIFI模块</h2><ul>
<li><a href="https://electronza.com/ti-cc3100-programming-serial-flash-simple-ftdi/" target="_blank" rel="noopener">TI CC3100: programming serial FLASH with a simple FTDI adapter</a></li>
<li><a href="https://github.com/rpricken/cc3100-linux" target="_blank" rel="noopener">cc3100-linux</a></li>
<li><a href="https://processors.wiki.ti.com/index.php/CC3100_%26_CC3200_FTDI_Flashing" target="_blank" rel="noopener">CC3100 &amp; CC3200 FTDI Flashing</a></li>
<li><a href="https://github.com/ALLTERCO/cc3200tool" target="_blank" rel="noopener">cc3200tool</a></li>
<li><a href="https://processors.wiki.ti.com/index.php/CC3100_%26_CC3200_UniFlash" target="_blank" rel="noopener">CC3100&amp;CC3200_UniFlash</a></li>
<li><a href="https://developer.ibm.com/recipes/tutorials/texas-instruments-energia-with-msp430f5529-launchpad-simplelink-wi-fi-cc3100-boosterpack-2/" target="_blank" rel="noopener">Texas Instruments MSP430F5529 LaunchPad + CC3100 SimpleLink™ Wi-Fi® BoosterPack using Energia</a></li>
<li><a href="https://github.com/blmorris/micropython-cc3100" target="_blank" rel="noopener">micropython-cc3100</a></li>
</ul>
<ul>
<li>若要对<code>CC31XXBOOST</code> 板进行编程,必须具备<code>CC31XXEMUBOOST</code>板,这里使用<code>USB-to-TTL</code>的板子来代替与它通信.原来看文档以为一定要使用<code>FTDI</code>的芯片,买了一块<code>FT232H</code>进行连接,不知道为什么不稳定,经常<code>No ACK</code>.手上还有一块<code>CP2102</code>的芯片用的很好.<code>CC3100</code>芯片在后续的<code>Uniflash v4</code>不提供支持的,最新支持的版本的是<a href="http://software-dl.ti.com/dsps/forms/self_cert_export.html?prod_no=uniflash_3.4.1.00012_linux.tar.gz&amp;ref_url=http://software-dl.ti.com/ccs/esd/uniflash/" target="_blank" rel="noopener">uniflash v3.4.1.00012</a>,同时只支持<code>i386</code>平台,经测试,安装在<code>Debian 7 (i386)</code>能正常使用.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CP2102       CC3100BOOST</span><br><span class="line">TX    ----&gt;  RX</span><br><span class="line">RX    &lt;----  TX</span><br><span class="line">GND   -----  GND</span><br><span class="line">             nHIB   <span class="comment"># 这里没用控制它,手动按SW3来触发</span></span><br><span class="line">             nRST   <span class="comment"># 这里没用控制它,手动按SW2来触发</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里不使用CP2102来对CC3100BOOST供电,把CC3100BOOST上的J8(1-2)短接,使用USB为模块供电.</span></span><br></pre></td></tr></table></figure>
<h3 id="Format格式化SPI闪存"><a href="#Format格式化SPI闪存" class="headerlink" title="Format格式化SPI闪存"></a>Format格式化SPI闪存</h3><ul>
<li><code>Serial Flash</code>型号<code>Micron</code>公司的<code>25PX80VP</code>是8Mb容量也就是<code>1M</code>字节.<code>Uniflashv3</code> 先选择<code>Format</code>格式化,下拉选择<code>1M</code>.中间有提示<code>--- please restart the device ---</code>,此时可以按下模块上的<code>SW3</code>或者是<code>SW2</code>按键一秒,按手册上来说,这本应是用一个<code>GPIO</code>来自动触发它的.</li>
</ul>
<h3 id="查看文件系统"><a href="#查看文件系统" class="headerlink" title="查看文件系统"></a>查看文件系统</h3><ul>
<li><code>Format</code>完成之后,选择<code>List Files System</code>,会在下方的<code>Debug Console</code>里看到类似如下:.<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[07:12:41] INFO: setting <span class="built_in">break</span> signal</span><br><span class="line">[07:12:41] INFO: --- please restart the device ---  <span class="comment"># 要按SW2重启才能继续进行.</span></span><br><span class="line">[07:12:43] INFO: connection succeeded</span><br><span class="line">[07:12:43] INFO: getting storage list</span><br><span class="line">[07:12:43] INFO: &gt; Executing Operation: Init</span><br><span class="line">[07:12:43] INFO: reading version info</span><br><span class="line">[07:12:43] INFO: DEVICE CC3100 ES1.32</span><br><span class="line">[07:12:43] INFO: reading version info</span><br><span class="line">[07:12:45] INFO: &gt; Executing Operation: ListFileSystem</span><br><span class="line">[07:12:45] INFO: extracting file system information...</span><br><span class="line">[07:12:45] INFO: Serial Flash block size:	4096 bytes</span><br><span class="line">[07:12:45] INFO: Serial Flash capacity:		256 blocks</span><br><span class="line"></span><br><span class="line">[07:12:45] INFO: 	file	start	size	fail	total size	filename</span><br><span class="line">[07:12:45] INFO: 	index	block	[BLKs]	safe	[BLKs]</span><br><span class="line">[07:12:45] INFO: ----------------------------------------------------------------------------</span><br><span class="line">[07:12:45] INFO: 	N/A	0	5	N/A	5		FATFS</span><br><span class="line">[07:12:45] INFO:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[07:12:45] INFO: 	Flash usage</span><br><span class="line">[07:12:45] INFO: -------------------------</span><br><span class="line">[07:12:45] INFO: used space:	5 blocks</span><br><span class="line">[07:12:45] INFO: free space:	251 blocks</span><br><span class="line">[07:12:45] INFO: memory hole:	[5-255]</span><br><span class="line">[07:12:45] INFO: &gt; Executing Operation: Disconnect</span><br><span class="line">[07:12:46] Operation ListFileSystem returned.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/imgs/ti/uniflashv3-uart-3100.png" alt="uniflashv3-uart-3100.png"></p>
<h3 id="烧入Service-Pack-Programming"><a href="#烧入Service-Pack-Programming" class="headerlink" title="烧入Service Pack Programming"></a>烧入<code>Service Pack Programming</code></h3><ul>
<li>这里的<code>Service Pack Programming</code>来自于<a href="http://www.ti.com/tool/download/CC3100SDK" target="_blank" rel="noopener">CC3100SDK</a>,现在最新(后面可能不更新了)SDK版本的<code>1.3.0</code>,<code>ServicePack</code>最新是<code>1.0.1.14-2.12.2.8</code>,了解更多信息可以查看SDK内的各种文档说明.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">07:16:07] INFO: --- please restart the device ---</span><br><span class="line">[07:16:09] INFO: connection succeeded</span><br><span class="line">[07:16:09] INFO: getting storage list</span><br><span class="line">[07:16:09] INFO: &gt; Executing Operation: ServicePackProgramming</span><br><span class="line">[07:16:09] INFO: Path to the service pack file: /home/lcy/servicepack_1.0.1.14-2.12.2.8.bin</span><br><span class="line">[07:16:09] INFO: reading version info</span><br><span class="line">[07:16:09] INFO: CC3100Z Device detected.</span><br><span class="line">[07:16:09] INFO: NWP/MAC/PHY Version from Service Pack:</span><br><span class="line">[07:16:09] INFO:  NWP version: 0.0.0.0</span><br><span class="line">[07:16:09] INFO:  MAC version: 0.0.0.0</span><br><span class="line">[07:16:09] INFO:  PHY version: 0.0.0.0</span><br><span class="line">[07:16:09] INFO: reading version info</span><br><span class="line">[07:16:09] INFO: DEVICE CC3100 ES1.32</span><br><span class="line">[07:16:09] INFO: reading version info</span><br><span class="line">[07:16:11] INFO: downloading NWP CODE</span><br><span class="line">[07:16:11] INFO: Erase storage FLASH</span><br><span class="line">[07:16:11] INFO: erase storage succeeded</span><br><span class="line">[07:16:11] INFO: erase storage completed</span><br><span class="line">[07:16:12] INFO: Verifying Data...</span><br><span class="line">[07:16:12] INFO:</span><br><span class="line"></span><br><span class="line">Verification OK</span><br><span class="line">[07:16:13] INFO: Downloading file <span class="string">"/sys/servicepack.ucf"</span> with size 38160</span><br><span class="line">[07:16:18] INFO:</span><br><span class="line"></span><br><span class="line">New Token is 0x0</span><br><span class="line">[07:16:18] INFO: Download complete</span><br><span class="line">[07:16:18] INFO: &gt; Executing Operation: Disconnect</span><br><span class="line">[07:16:18] Operation ServicePackProgramming returned.</span><br><span class="line"></span><br><span class="line">// 再用 List File System 查看文件系统.</span><br><span class="line"></span><br><span class="line">[07:22:37] INFO: --- please restart the device ---</span><br><span class="line">[07:22:39] INFO: connection succeeded</span><br><span class="line">[07:22:39] INFO: getting storage list</span><br><span class="line">[07:22:39] INFO: &gt; Executing Operation: Init</span><br><span class="line">[07:22:39] INFO: reading version info</span><br><span class="line">[07:22:39] INFO: DEVICE CC3100 ES1.32</span><br><span class="line">[07:22:39] INFO: reading version info</span><br><span class="line">[07:22:41] INFO: &gt; Executing Operation: ListFileSystem</span><br><span class="line">[07:22:41] INFO: extracting file system information...</span><br><span class="line">[07:22:41] INFO: Serial Flash block size:	4096 bytes</span><br><span class="line">[07:22:41] INFO: Serial Flash capacity:		256 blocks</span><br><span class="line"></span><br><span class="line">[07:22:41] INFO: 	file	start	size	fail	total size	filename</span><br><span class="line">[07:22:41] INFO: 	index	block	[BLKs]	safe	[BLKs]</span><br><span class="line">[07:22:41] INFO: ----------------------------------------------------------------------------</span><br><span class="line">[07:22:41] INFO: 	N/A	0	5	N/A	5		FATFS</span><br><span class="line">[07:22:41] INFO: 	4	5	66	no	66		/sys/servicepack.ucf</span><br><span class="line">[07:22:41] INFO:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[07:22:41] INFO: 	Flash usage</span><br><span class="line">[07:22:41] INFO: -------------------------</span><br><span class="line">[07:22:41] INFO: used space:	71 blocks</span><br><span class="line">[07:22:41] INFO: free space:	185 blocks</span><br><span class="line">[07:22:41] INFO: memory hole:	[71-255]</span><br><span class="line">[07:22:41] INFO: &gt; Executing Operation: Disconnect</span><br><span class="line">[07:22:41] Operation ListFileSystem returned.</span><br></pre></td></tr></table></figure>
<h3 id="配置CC31xx-CC32xx-Config-Groups"><a href="#配置CC31xx-CC32xx-Config-Groups" class="headerlink" title="配置CC31xx/CC32xx Config Groups"></a>配置CC31xx/CC32xx Config Groups</h3><ul>
<li>这是配置模块的功能,功能比较多(Device Role,Station,AP,P2P,Profiles,HTTP Server,DHCP Server,mDNS Client,Smart Config),根据自己用途去配置.这里把设备角色(Device Role)选择成<code>Station</code>模式,勾选上<code>Update</code>.勾选上<code>Update</code>后,再打开主菜单<code>Operation--&gt;Program</code>就会烧写一个<code>/sys/mode.cfg</code>文件,<br><img src="/imgs/ti/uniflashv3-uart-3100-DeviceRole.png" alt="uniflashv3-uart-3100-DeviceRole.png"></li>
</ul>
<ul>
<li>其它的要功能也是一样,记得要勾选上<code>Update</code>,才能更新到模块中,配置详情可以参考<a href="https://processors.wiki.ti.com/index.php/CC3100_%26_CC3200_UniFlash" target="_blank" rel="noopener">图文 CC3100&amp;CC3200_UniFlash</a>,编程技术手册<a href="https://www.ti.com/lit/ug/swru368b/swru368b.pdf" target="_blank" rel="noopener">swru368b</a>.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">[07:32:39] Begin Program operation.</span><br><span class="line">[07:32:40] INFO: &gt; Executing Operation: Connect</span><br><span class="line">[07:32:42] WARNING: flush succeeded</span><br><span class="line">[07:32:42] INFO: setting <span class="built_in">break</span> signal</span><br><span class="line">[07:32:42] INFO: --- please restart the device ---</span><br><span class="line">[07:32:48] INFO: connection succeeded</span><br><span class="line">[07:32:48] INFO: getting storage list</span><br><span class="line">[07:32:48] INFO: &gt; Executing Operation: Init</span><br><span class="line">[07:32:48] INFO: reading version info</span><br><span class="line">[07:32:48] INFO: DEVICE CC3100 ES1.32</span><br><span class="line">[07:32:48] INFO: reading version info</span><br><span class="line">[07:32:50] INFO: &gt; Executing Operation: Program</span><br><span class="line">[07:32:50] INFO: &gt; File name: /sys/mcuimg.bin, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:50] INFO: &gt; File name: /cert/ca.pem, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:50] INFO: &gt; File name: /cert/client.pem, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:50] INFO: &gt; File name: /cert/private.key, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:50] INFO: &gt; File name: /sys/macadd.bin, Update: <span class="literal">false</span>, Erase: <span class="literal">true</span></span><br><span class="line">[07:32:50] INFO: &gt; Erase File: /sys/macadd.bin</span><br><span class="line">[07:32:50] INFO: erasing file <span class="string">"/sys/macadd.bin"</span></span><br><span class="line">[07:32:50] INFO: deleting file <span class="string">"/sys/macadd.bin"</span></span><br><span class="line">[07:32:50] INFO: erase file completed</span><br><span class="line">[07:32:50] INFO: &gt; File name: /sys/mode.cfg, Update: <span class="literal">true</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:50] INFO: &gt; Size of file = 80</span><br><span class="line">[07:32:50] INFO: &gt; Update File: /sys/mode.cfg</span><br><span class="line">[07:32:50] INFO: Downloading file <span class="string">"/sys/mode.cfg"</span> with size 80</span><br><span class="line">[07:32:50] INFO:</span><br><span class="line"></span><br><span class="line">New Token is 0x0</span><br><span class="line">[07:32:50] INFO: Download complete</span><br><span class="line">[07:32:50] INFO: Verifying Data...</span><br><span class="line">[07:32:50] INFO: get file</span><br><span class="line">[07:32:50] INFO: Done. Reading 80  bytes</span><br><span class="line">[07:32:50] INFO:</span><br><span class="line"></span><br><span class="line">Verification OK</span><br><span class="line">[07:32:51] INFO: &gt; Updated Token value: 0x0</span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/ipcfg.ini, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/ap.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/devname.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/mdns.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/dhcpsrv.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/httpsrv.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/pref.net, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/smartconfigkeys.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/stacfg.ini, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/p2p.cfg, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; File name: /sys/pmcfg.ini, Update: <span class="literal">false</span>, Erase: <span class="literal">false</span></span><br><span class="line">[07:32:51] INFO: &gt; Executing Operation: Disconnect</span><br><span class="line">[07:32:51] Operation Program returned.</span><br><span class="line">// 再次查看</span><br><span class="line">[07:33:07] Begin ListFileSystem operation.</span><br><span class="line">[07:33:08] INFO: &gt; Executing Operation: Connect</span><br><span class="line">[07:33:10] WARNING: flush succeeded</span><br><span class="line">[07:33:10] INFO: setting <span class="built_in">break</span> signal</span><br><span class="line">[07:33:10] INFO: --- please restart the device ---</span><br><span class="line">[07:33:16] INFO: connection succeeded</span><br><span class="line">[07:33:16] INFO: getting storage list</span><br><span class="line">[07:33:16] INFO: &gt; Executing Operation: Init</span><br><span class="line">[07:33:16] INFO: reading version info</span><br><span class="line">[07:33:16] INFO: DEVICE CC3100 ES1.32</span><br><span class="line">[07:33:16] INFO: reading version info</span><br><span class="line">[07:33:18] INFO: &gt; Executing Operation: ListFileSystem</span><br><span class="line">[07:33:18] INFO: extracting file system information...</span><br><span class="line">[07:33:19] INFO: Serial Flash block size:	4096 bytes</span><br><span class="line">[07:33:19] INFO: Serial Flash capacity:		256 blocks</span><br><span class="line"></span><br><span class="line">[07:33:19] INFO: 	file	start	size	fail	total size	filename</span><br><span class="line">[07:33:19] INFO: 	index	block	[BLKs]	safe	[BLKs]</span><br><span class="line">[07:33:19] INFO: ----------------------------------------------------------------------------</span><br><span class="line">[07:33:19] INFO: 	N/A	0	5	N/A	5		FATFS</span><br><span class="line">[07:33:19] INFO: 	4	5	66	no	66		/sys/servicepack.ucf</span><br><span class="line">[07:33:19] INFO: 	6	71	1	yes	2		/sys/mode.cfg     <span class="comment"># 多了一个配置文件.</span></span><br><span class="line">[07:33:19] INFO:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[07:33:19] INFO: 	Flash usage</span><br><span class="line">[07:33:19] INFO: -------------------------</span><br><span class="line">[07:33:19] INFO: used space:	73 blocks</span><br><span class="line">[07:33:19] INFO: free space:	183 blocks</span><br><span class="line">[07:33:19] INFO: memory hole:	[73-255]</span><br><span class="line">[07:33:19] INFO: &gt; Executing Operation: Disconnect</span><br><span class="line">[07:33:19] Operation ListFileSystem returned.</span><br></pre></td></tr></table></figure>
<h2 id="CC3120BOOST无线Wifi模块"><a href="#CC3120BOOST无线Wifi模块" class="headerlink" title="CC3120BOOST无线Wifi模块"></a><code>CC3120BOOST</code>无线<code>Wifi</code>模块</h2><ul>
<li><a href="https://e2e.ti.com/support/wireless-connectivity/wifi/f/968/t/692364" target="_blank" rel="noopener">CC3120BOOST: CC3120BOOST + MSP-EXP432E401Y</a></li>
<li><a href="https://github.com/mozilla-sensorweb/sensorweb-wiki/wiki/CC3200-Info" target="_blank" rel="noopener">CC3200 Info</a></li>
<li><a href="https://e2e.ti.com/support/wireless-connectivity/wifi/f/968/p/721026/2660680?tisearch=e2e-sitesearch&amp;keymatch=cc3100%2520MSP432E401Y#2660680" target="_blank" rel="noopener">CC3120: Only UART Interface between CC3120 and MSP432E401Y</a></li>
<li><a href="https://e2e.ti.com/support/wireless-connectivity/wifi/f/968/t/844552?CC3120MOD-UniFLASH-5-1-0-Timed-out-waiting-for-ack-" target="_blank" rel="noopener">CC3120MOD-UniFLASH-5-1-0-Timed-out-waiting-for-ack-</a></li>
<li><a href="https://www.developerxively.com/docs/ti-cc3220sf-built-from-scratch" target="_blank" rel="noopener">TI CC3220SF Built From Scratch</a></li>
<li><a href="https://docs.zephyrproject.org/latest/boards/arm/cc3220sf_launchxl/doc/index.html" target="_blank" rel="noopener">Zephyr CC3220SF LaunchXL</a></li>
</ul>
<ul>
<li><p><code>CC3120 BoosterPack™</code>插件模块<code>(CC3120BOOST)</code>是一块可轻松连接到<code>TI Launchpad</code>套件的电路板(为<code>MSP-EXP432P401R</code>提供的软件示例)；从而能够进行快速软件开发.<code>CC3120BOOST</code>可插入到高级仿真 <code>BoosterPack (CC31xxEMUBOOST)</code>,还可连接到使用<code>SimpleLink Studio</code>仿真MCU的PC.最后,此套件还可通过适配器板连接到除<code>TI Launchpad</code>套件之外的任何低成本、低功耗 MCU 平台.</p>
</li>
<li><p>根据<code>simplelink_sdk_wifi_plugin_2_40_00_22</code>文档说明,支持<code>IPv4 and IPv6 TCP/IP Stack</code>,但是在实际应用中,发现无法连接到<code>IPv6 Socket</code>,但是可以获取<code>DHCPv6</code>的地址.查看了SDK源码发现了API的分层调用<code>SlNetSock_connect --&gt; SlNetIfWifi_connect --&gt; sl_Connect</code>,打开源码发现如下:</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">~$ cat simplelink_sdk_wifi_plugin_2_40_00_22/<span class="built_in">source</span>/ti/drivers/net/wifi/sl_socket.h</span><br><span class="line">[....]</span><br><span class="line">/*!</span><br><span class="line">    \brief Initiate a connection on a socket</span><br><span class="line"></span><br><span class="line">    Function connects the socket referred to by the socket</span><br><span class="line">    descriptor sd, to the address specified by addr. The addrlen</span><br><span class="line">    argument specifies the size of addr. The format of the</span><br><span class="line">    address <span class="keyword">in</span> addr is determined by the address space of the</span><br><span class="line">    socket. If it is of <span class="built_in">type</span> SOCK_DGRAM, this call specifies the</span><br><span class="line">    peer with <span class="built_in">which</span> the socket is to be associated; this address</span><br><span class="line">    is that to <span class="built_in">which</span> datagrams are to be sent, and the only</span><br><span class="line">    address from <span class="built_in">which</span> datagrams are to be received.  If the</span><br><span class="line">    socket is of <span class="built_in">type</span> SOCK_STREAM, this call attempts to make a</span><br><span class="line">    connection to another socket. The other socket is specified</span><br><span class="line">    by address, <span class="built_in">which</span> is an address <span class="keyword">in</span> the communications space</span><br><span class="line">    of the socket.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    \param[<span class="keyword">in</span>] sd               Socket descriptor (handle)</span><br><span class="line">    \param[<span class="keyword">in</span>] addr             Specifies the destination addr\n</span><br><span class="line">                                sockaddr:\n - code <span class="keyword">for</span> the</span><br><span class="line">                                address format. On this version</span><br><span class="line">                                only AF_INET is supported.\n -</span><br><span class="line">                                socket address, the length</span><br><span class="line">                                depends on the code format</span><br><span class="line"></span><br><span class="line">    \param[<span class="keyword">in</span>] addrlen          Contains the size of the structure pointed</span><br><span class="line">                                to by addr</span><br><span class="line"></span><br><span class="line">    \<span class="built_in">return</span>                     On success, a socket handle.\n</span><br><span class="line">                                On a non-blocking connect a possible negative value is SL_EALREADY.</span><br><span class="line">                                On failure, negative value.\n</span><br><span class="line">                                SL_POOL_IS_EMPTY may be <span class="built_in">return</span> <span class="keyword">in</span> <span class="keyword">case</span> there are no resources <span class="keyword">in</span> the system</span><br><span class="line">                                  In this <span class="keyword">case</span> try again later or increase MAX_CONCURRENT_ACTIONS</span><br><span class="line"></span><br><span class="line">    \sa                         sl_Socket</span><br><span class="line">    \note                       belongs to \ref client_side</span><br><span class="line">    \warning</span><br><span class="line"> */</span><br><span class="line"><span class="comment">#if _SL_INCLUDE_FUNC(sl_Connect)</span></span><br><span class="line">_i16 sl_Connect(_i16 sd,</span><br><span class="line">                const SlSockAddr_t *addr,</span><br><span class="line">                _i16 addrlen);</span><br><span class="line"><span class="comment">#endif</span></span><br><span class="line">[....]</span><br></pre></td></tr></table></figure>
<h3 id="下载第一个测试工程Network-termial"><a href="#下载第一个测试工程Network-termial" class="headerlink" title="下载第一个测试工程Network_termial"></a>下载第一个测试工程<code>Network_termial</code></h3><ul>
<li><p>下面是是使用<code>Code Composer Stduio</code>导入<code>simplelink_sdk_wifi_plugin_2_40_00_22/examples/rtos/MSP_EXP432E401Y/demos/network_terminal</code>,调试运行如下:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">~$ sudo minicom -o -b 115200 -D /dev/ttyACM0</span><br><span class="line"></span><br><span class="line">Welcome to minicom 2.7.1</span><br><span class="line"></span><br><span class="line">OPTIONS: I18n</span><br><span class="line">Compiled on May  6 2018, 08:02:47.</span><br><span class="line">Port /dev/ttyACM0, 15:41:53</span><br><span class="line"></span><br><span class="line">Press CTRL-A Z <span class="keyword">for</span> <span class="built_in">help</span> on special keys</span><br><span class="line"></span><br><span class="line">user:</span><br><span class="line">        ============================================</span><br><span class="line">           Network Terminal Example Ver: 1.0.1.0</span><br><span class="line">        ============================================</span><br><span class="line"></span><br><span class="line">         CHIP: 0x30000000</span><br><span class="line">         MAC:  2.0.0.0</span><br><span class="line">         PHY:  2.2.0.6</span><br><span class="line">         NWP:  3.10.0.5</span><br><span class="line">         ROM:  0</span><br><span class="line">         HOST: 3.0.1.46</span><br><span class="line">         MAC address: f0:c7:7f:18:1b:72</span><br><span class="line"></span><br><span class="line">        ============================================</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line">Available commands:</span><br><span class="line"></span><br><span class="line"><span class="built_in">help</span>                scan                setpolicy           wlanconnect</span><br><span class="line">wlan_ap_start       wlan_ap_stop        wlandisconnect      connected_stations</span><br><span class="line">ping                send                recv                createfilter</span><br><span class="line">enablefilter        disablefilter       deletefilter        enablewowlan</span><br><span class="line">mdnsadvertise       mdnsquery           radiotool           p2pstart</span><br><span class="line">p2pstop             SoftRoamingEnable   SoftRoamingDisable  AntSelectionEnable</span><br><span class="line">AntSelectionDisable CoexEnable          CoexDisable         Countrycode</span><br><span class="line">clear</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line">user:</span><br></pre></td></tr></table></figure>
</li>
<li><p>如上面所示,通过连接UART会得到<code>shell</code>接口,比如运行:<code>scan -n 20</code>会扫描到周围的AP,<code>wlan_ap_start</code>可以把模块切换成AP模式运行.具体支持的命令详细内容可以查看该工程内的<code>README.html</code>文件.</p>
</li>
</ul>
<h3 id="Uniflash-v5"><a href="#Uniflash-v5" class="headerlink" title="Uniflash v5"></a>Uniflash v5</h3><ul>
<li><a href="http://software-dl.ti.com/ccs/esd/uniflash/docs/release_archive.html" target="_blank" rel="noopener">Uniflash所有版本</a></li>
</ul>
<ul>
<li><code>CC3120</code>相对于<code>CC3100</code>主要是增加了<code>security</code>和<code>lower power</code>的性能,<code>CC3120R</code>的模块如此,要对<code>CC3X20BOOST</code>板进行编程,必须具备<code>CC31XXEMUBOOST</code>板.它也可以用通过<code>UART</code>接口对它进行<code>ServerPack</code>更新.按照这里<a href="https://e2e.ti.com/support/wireless-connectivity/wifi/f/968/p/721026/2660680?tisearch=e2e-sitesearch&amp;keymatch=cc3100%2520MSP432E401Y#2660680" target="_blank" rel="noopener">CC3120: Only UART Interface between CC3120 and MSP432E401Y</a>指导是可以用<code>MSP432E401Y</code>板载的<code>XDS110</code>去烧写,接线方式如下:</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LauchPad  XDS110 (J101)            CC3120BOOST</span><br><span class="line">            GND         --------      GND</span><br><span class="line">            3V3         --------      3V3</span><br><span class="line">            5V          --------      5V</span><br><span class="line">            TX          --------&gt;     RX</span><br><span class="line">            RX          &lt;-------      TX</span><br><span class="line">            RST         --------     nHIB</span><br></pre></td></tr></table></figure>
<ul>
<li><p>上述连接方式,成功连接过一次,后面测试时就无法连接成功一直超时,这个还不知道为什么.后面是使用一个<code>CP210x USB-UART</code>去连接的,使用模块上的<code>USB PWR</code>对模块独立供电,模块上的<code>J7(1-2)</code>短接.<code>CP210x</code>与要模块接就只有三线:<code>TX-RX,TX-RX,GND-GND</code>.同时使用<code>UniFlash.desktop</code>打开的图形配置界面,无法指定端口.下面是使用<code>dslite.sh</code>脚本去运行的.</p>
</li>
<li><p>如下图所示,<code>SLImageCreator</code>是用<code>python2</code>写的,并使用<code>PyInstaller</code>把它编译成本的执行文件,从而避免了源码暴露.但是可以使用<code>PyInstaller</code>的工具<code>pyi-archive_viewer</code>把它解压还原回来.下面尝试把它的<code>SLImageCreator</code>内容解压到本地文件<code>SLImageCreator.py</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">~$ pyi-archive_viewer ../SLImageCreator</span><br><span class="line"> pos, length, uncompressed, iscompressed, <span class="built_in">type</span>, name</span><br><span class="line">[(0, 2410208, 2410208, 0, <span class="string">'z'</span>, <span class="string">'out00-PYZ.pyz'</span>),</span><br><span class="line"> (2410208, 172, 237, 1, <span class="string">'m'</span>, <span class="string">'struct'</span>),</span><br><span class="line"> (2410380, 1169, 2788, 1, <span class="string">'m'</span>, <span class="string">'pyimod01_os_path'</span>),</span><br><span class="line"> (2411549, 3950, 11334, 1, <span class="string">'m'</span>, <span class="string">'pyimod02_archive'</span>),</span><br><span class="line"> (2415499, 5629, 18438, 1, <span class="string">'m'</span>, <span class="string">'pyimod03_importers'</span>),</span><br><span class="line"> (2421128, 2453, 6604, 1, <span class="string">'s'</span>, <span class="string">'pyiboot01_bootstrap'</span>),</span><br><span class="line"> (2423581, 437, 923, 1, <span class="string">'s'</span>, <span class="string">'pyi_rth_pkgres'</span>),</span><br><span class="line"> (2424018, 20959, 119615, 1, <span class="string">'s'</span>, <span class="string">'SLImageCreator'</span>)]</span><br><span class="line">? X</span><br><span class="line">extract name? SLImageCreator    <span class="comment"># 选取 SLImageCreator</span></span><br><span class="line">to filename? SLImageCreator.py</span><br><span class="line">? Ctrl+D   <span class="comment"># 在当前目录下会有SLImageCreator.py文件.</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>uniflash_5.0.0/simplelink/imagecreator/bin</code>里的<code>libpython2.7.so.1.0</code>是引用系统库,再链接到本目录的.但运行是出现下面的错误.</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ti/uniflash_5.0.0/simplelink/imagecreator$ tree bin/</span><br><span class="line">bin/</span><br><span class="line">├── BuildProgrammingImage</span><br><span class="line">├── BuildProgrammingImage.g2</span><br><span class="line">├── Crypto.Cipher._AES.x86_64-linux-gnu.so</span><br><span class="line">├── Crypto.Cipher._DES3.x86_64-linux-gnu.so</span><br><span class="line">├── Crypto.Cipher._DES.x86_64-linux-gnu.so</span><br><span class="line">├── Crypto.Hash._SHA256.x86_64-linux-gnu.so</span><br><span class="line">├── Crypto.Util._counter.x86_64-linux-gnu.so</span><br><span class="line">├── Crypto.Util.strxor.x86_64-linux-gnu.so</span><br><span class="line">├── libftd2xx.so</span><br><span class="line">├── libpython2.7.so.1.0 -&gt; /usr/lib/x86_64-linux-gnu/libpython2.7.so.1.0</span><br><span class="line">├── libusb-1.0.so</span><br><span class="line">├── SLImageCreator</span><br><span class="line">└── xds110reset</span><br><span class="line"></span><br><span class="line">0 directories, 13 files</span><br><span class="line"></span><br><span class="line">~$ uniflash_5.0.0/simplelink/imagecreator/bin$ ./SLImageCreator</span><br><span class="line">[....]</span><br><span class="line">ImportError: cannot import name RAND_egd</span><br><span class="line">SLImageCreator returned -1</span><br></pre></td></tr></table></figure>
<ul>
<li>获取信息,下面的命令参考来自<a href="https://www.ti.com/lit/ug/swru469g/swru469g.pdf" target="_blank" rel="noopener">swru469g.pdf</a>文档.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">uniflash_5.0.0$ ./dslite.sh --mode cc31xx device info --json --port /dev/ttyUSB0</span><br><span class="line">Executing the following command:</span><br><span class="line">&gt; ./SLImageCreator device info --json --port /dev/ttyUSB0</span><br><span class="line"></span><br><span class="line">For more details and examples, please refer to the UniFlash Quick Start guide.</span><br><span class="line"></span><br><span class="line">Config file (cfg.json) doesn&apos;t exist, using defaults</span><br><span class="line">INFO:root:COM PORT /dev/ttyUSB0</span><br><span class="line">INFO:slbootloader.slbootloader:Connecting to device</span><br><span class="line">INFO:slbootloader.slbootloader:--- Please power off the device ---</span><br><span class="line">Press ENTER to continue</span><br><span class="line">INFO:slbootloader.slbootloader:Power off</span><br><span class="line">INFO:slbootloader.slbootloader:Set break signal</span><br><span class="line">INFO:slbootloader.slbootloader:--- Please power on the device ---</span><br><span class="line">INFO:slbootloader.slbootloader:Power on</span><br><span class="line">INFO:slbootloader.slbootloader:Clear break signal</span><br><span class="line">INFO:slbootloader.slbootloader:Connection succeeded</span><br><span class="line">INFO:slbootloader.slbootloader:Received storage list</span><br><span class="line">&#123;</span><br><span class="line">    &quot;mac_address&quot;: &quot;f0:c7:7f:18:1b:72&quot;,</span><br><span class="line">    &quot;hw_ver&quot;: 48,</span><br><span class="line">    &quot;secure&quot;: true,</span><br><span class="line">    &quot;device_type&quot;: &quot;CC3120&quot;,</span><br><span class="line">    &quot;prog_mac_address&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="GUI图形配置"><a href="#GUI图形配置" class="headerlink" title="GUI图形配置"></a>GUI图形配置</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uniflash_5.0.0$ ./dslite.sh --mode cc31xx gui_cfg --port /dev/ttyUSB0</span><br></pre></td></tr></table></figure>
<ul>
<li>成功后转为后台进程,并用系统默认的浏览器打开一个网页,如下:<br><img src="/imgs/ti/uniflash-msp432e4-cc3120r-selected.png" alt="uniflash-msp432e4-cc3120r-selected.png"></li>
</ul>
<ul>
<li>创建一个工程文件,如下:<br><img src="/imgs/ti/uniflash-msp432e4-cc3120r-new-project.png" alt="uniflash-msp432e4-cc3120r-new-project.png"></li>
<li>连接模块,<strong>注意</strong>:点击<code>connect</code>后,要手动按一下模块上的<code>SW3或SW2</code>复位它,才能连接到.<br><img src="/imgs/ti/uniflashv5-cc3120r-connect.png" alt="uniflashv5-cc3120r-connect.png"></li>
</ul>
<h4 id="Simple配置"><a href="#Simple配置" class="headerlink" title="Simple配置"></a>Simple配置</h4><ul>
<li>如图所示,这<code>Uniflash v5</code>与<code>Uniflash v3</code>的界面有很大不同,这个界面只有两个选项<code>Start Role  (Station,P2P,Access Point)</code>与<code>Service Pack File Name</code>,<br>这里的<code>Service Pack File Name</code>文件来自于<code>simplelink_sdk_wifi_plugin_2_40_00_22/tools/cc31xx_tools/servicepack-cc3x20/sp_3.10.0.5_2.0.0.0_2.2.0.6.bin</code>,关于<code>Service Pack</code>内容详情,可以查看SDK内的文档.</li>
</ul>
<h4 id="Anvanced配置"><a href="#Anvanced配置" class="headerlink" title="Anvanced配置"></a>Anvanced配置</h4><h5 id="Genernal"><a href="#Genernal" class="headerlink" title="Genernal"></a>Genernal</h5><ul>
<li><p>注意,工程类型选成<code>Development</code>模式是不能随意更改<code>MAC Address</code>的,会报错<code>SL_ERROR_FS_DEVELOPMENT_BOARD_WRONG_MAC</code>.</p>
<h5 id="System-Setting"><a href="#System-Setting" class="headerlink" title="System Setting"></a>System Setting</h5><h5 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h5></li>
<li><p>使用<code>Online User Files</code>查看模块内的文件系统内容,如下:<br><img src="/imgs/ti/uniflashv5-cc3120r-online-user-files.png" alt="uniflashv5-cc3120r-online-user-files.png"></p>
</li>
</ul>
<h1 id="SysConfig"><a href="#SysConfig" class="headerlink" title="SysConfig"></a>SysConfig</h1><ul>
<li><a href="https://www.ti.com/tool/download/SYSCONFIG" target="_blank" rel="noopener">SYSCONFIG</a></li>
</ul>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li><code>SysConfig</code>是一个为了帮助简单配置与加快软件开发图形工具.它是基于<a href="https://nodejs.org/en/" target="_blank" rel="noopener"><code>node.js</code></a>平台开发,数据定义结构是基于<code>JSON</code>格式.<a href="https://www.st.com/content/st_com/zh.html" target="_blank" rel="noopener">STM32</a>旗下对应类似工具叫<code>STM32CubeMX</code>.</li>
</ul>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li>它是一个独立工具安装包,可以把它安装在<code>$CCS_ROOT/ccs/utils/</code>下面.也可以安装到其它位置,创建一个链接到<code>$CCS_ROOT/ccs/utils/sysconf</code>供<code>CCS IDE</code>调用,工程根目录下的<code>.syscfg</code>类型的文件会调用<code>sysconfig</code>在<code>CCS IDE</code>打开编辑,如果文件缺少必要的定义或者格式错误,<code>SysConfig</code>会报错,并向导用户新建一个可用的配置.编译时,会先调用<code>$CCS_ROOT/ccs/utils/sysconfig/sysconfig_cli.sh&quot;</code>解析<code>.syscfg</code>内容,会在(Debug|Release)目录创建<code>syscfg</code>目录,会自动的生成<code>ti_drivers_config.c,ti_drivers_config.h,ti_net_config.c</code>这些个文件.它的图形编辑界面如下:</li>
<li><img src="/imgs/ti/sysconfig_msp432e401y.png" alt="sysconfig_msp432e401y.png"></li>
<li><p>使用文本编辑器打开工程中的<code>.syscfg</code>格式如下:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">cat mqttclient_wifi.syscfg</span><br><span class="line">/**</span><br><span class="line"> * These arguments were used when this file was generated. They will be automatically applied on subsequent loads</span><br><span class="line"> * via the GUI or CLI. Run CLI with <span class="string">'--help'</span> <span class="keyword">for</span> additional information on how to override these arguments.</span><br><span class="line"> * @cliArgs --board <span class="string">"/ti/boards/MSP_EXP432E401Y"</span> --product <span class="string">"simplelink_msp432e4_sdk@4.20.00.12"</span></span><br><span class="line"> * @versions &#123;<span class="string">"data"</span>:<span class="string">"2020021217"</span>,<span class="string">"timestamp"</span>:<span class="string">"2020021217"</span>,<span class="string">"tool"</span>:<span class="string">"1.4.0+1234"</span>,<span class="string">"templates"</span>:<span class="string">"2020021217"</span>&#125;</span><br><span class="line"> */</span><br><span class="line">const CC3120BOOST = scripting.addHardware(<span class="string">"/ti/boards/boosterpacks/CC3120BOOST"</span>, <span class="string">"boosterpack2"</span>);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Import the modules used <span class="keyword">in</span> this configuration.</span><br><span class="line"> */</span><br><span class="line">const Display  = scripting.addModule(<span class="string">"/ti/display/Display"</span>, &#123;&#125;, <span class="literal">false</span>);</span><br><span class="line">const Display1 = Display.addInstance();</span><br><span class="line">const GPIO     = scripting.addModule(<span class="string">"/ti/drivers/GPIO"</span>);</span><br><span class="line">[...省略多行..]</span><br><span class="line">const SlNet    = scripting.addModule(<span class="string">"/ti/net/SlNet"</span>, &#123;&#125;, <span class="literal">false</span>);</span><br><span class="line">const SlNet1   = SlNet.addInstance();</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Write custom configuration values to the imported modules.</span><br><span class="line"> */</span><br><span class="line">Display1.<span class="variable">$hardware</span>       = system.deviceData.board.components.XDS110UART;</span><br><span class="line">Display1.<span class="variable">$name</span>           = <span class="string">"UART0"</span>;</span><br><span class="line">Display1.uart.<span class="variable">$name</span>      = <span class="string">"MSP_EXP432E401Y_UART0"</span>;</span><br><span class="line">Display1.uart.uart.<span class="variable">$name</span> = <span class="string">"MyUART1"</span>;</span><br><span class="line"></span><br><span class="line">GPIO3.<span class="variable">$name</span>              = <span class="string">"MSP_EXP432E401Y_SDSPI_CS"</span>;</span><br><span class="line">GPIO3.mode               = <span class="string">"Output"</span>;</span><br><span class="line">GPIO3.outputStrength     = <span class="string">"High"</span>;</span><br><span class="line">GPIO3.initialOutputState = <span class="string">"High"</span>;</span><br><span class="line">GPIO3.gpioPin.<span class="variable">$assign</span>    = <span class="string">"boosterpack.8"</span>;</span><br><span class="line"></span><br><span class="line">GPIO4.<span class="variable">$hardware</span>          = CC3120BOOST.components.CS;</span><br><span class="line">GPIO4.<span class="variable">$name</span>              = <span class="string">"MSP_EXP432E401Y_CS_pin"</span>;</span><br><span class="line">GPIO4.initialOutputState = <span class="string">"High"</span>;</span><br><span class="line">GPIO4.outputStrength     = <span class="string">"High"</span>;</span><br><span class="line"></span><br><span class="line">I2C1.<span class="variable">$name</span>              = <span class="string">"MSP_EXP432E401Y_I2C2"</span>;</span><br><span class="line">I2C1.i2c.<span class="variable">$name</span>          = <span class="string">"MyI2C1"</span>;</span><br><span class="line">I2C1.i2c.<span class="variable">$assign</span>        = <span class="string">"I2C2"</span>;</span><br><span class="line">I2C1.i2c.sdaPin.<span class="variable">$assign</span> = <span class="string">"boosterpack2.10"</span>;</span><br><span class="line">I2C1.i2c.sclPin.<span class="variable">$assign</span> = <span class="string">"boosterpack2.9"</span>;</span><br><span class="line"></span><br><span class="line">[....省略多行...]</span><br></pre></td></tr></table></figure>
</li>
<li><p>在最新工具版本中(1.4以上),<code>.syscfg</code>文件中必须要有<code>@cliArgs --board &quot;/ti/boards/MSP_EXP432E401Y&quot;</code>,就是说必须要指定一个可用的<code>--board</code>参数,否则会无法打开并编辑它.再来看一下文件中的<code>@cliArgs --board &quot;/ti/boards/MSP_EXP432E401Y&quot; --product &quot;simplelink_msp432e4_sdk@4.20.00.12&quot;</code>这一行,它其实定义了这个<code>Sysconfig</code>文件的类型定义的来源及解析方式.<code>simplelink_msp432e4_sdk@4.20.00.12</code>是对应工程引用的<code>SDK</code>的版本,打开<code>SDK</code>的源码路径如下:</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意SDK名与版本号.</span></span><br><span class="line">~$ tree -L 2 simplelink_msp432e4_sdk_4_20_00_12/<span class="built_in">source</span>/ti/boards/.meta</span><br><span class="line">simplelink_msp432e4_sdk_4_20_00_12/<span class="built_in">source</span>/ti/boards/.meta</span><br><span class="line">├── boosterpacks</span><br><span class="line">│   ├── BOOSTXL-BASSENSORS.syscfg.json</span><br><span class="line">│   ├── BOOSTXL-SHARP128.syscfg.json</span><br><span class="line">│   ├── BP-BASSENSORSMKII.syscfg.json</span><br><span class="line">│   ├── CC3200AUDBOOST.syscfg.json</span><br><span class="line">│   ├── LPSTK-SENSORS.syscfg.json</span><br><span class="line">│   └── MSP430BOOST-SHARP96.syscfg.json</span><br><span class="line">├── components</span><br><span class="line">│   ├── analogInput.json</span><br><span class="line">│   ├── button.json</span><br><span class="line">│   ├── digitalInput.json</span><br><span class="line">│   ├── digitalOutput.json</span><br><span class="line">│   ├── i2c.json</span><br><span class="line">│   ├── led_dimmable.json</span><br><span class="line">│   ├── led.json</span><br><span class="line">│   ├── spi25xFlash.json</span><br><span class="line">│   ├── spiBus.json</span><br><span class="line">│   ├── spiSelect.json</span><br><span class="line">│   ├── uart.json</span><br><span class="line">│   ├── usb.json</span><br><span class="line">│   └── xds110Uart.json</span><br><span class="line">├── MSP432E411Y_BGAEVM.syscfg.json</span><br><span class="line">└── MSP_EXP432E401Y.syscfg.json</span><br><span class="line"></span><br><span class="line">2 directories, 21 files</span><br></pre></td></tr></table></figure>
<ul>
<li>如上所示,<code>SysConfig</code>工具定义的出厂资源描述文件是位于<code>$SDK/source/ti/boards/.meta</code>下,而且它是有分层定义设计的,<code>MSP_EXP432E401Y.syscfg.json</code>是板子定义.<code>components</code>是一些外设模块的定义.<code>boosterpacks</code>是一些可扩展组件的定义,它定义管脚与规格是支持<code>MSP_EXP432E401Y</code>扩展的.</li>
</ul>
<h2 id="自定义资源文件"><a href="#自定义资源文件" class="headerlink" title="自定义资源文件"></a>自定义资源文件</h2><ul>
<li><p>下面是参照了官方源码,在<code>boosterpacks</code>中定义了<code>CC3120BOOST</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">cat boosterpacks/CC3120BOOST.syscfg.json</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> *  ======== CC3120BOOST.syscfg.json ========</span><br><span class="line"> *  这里是对照MSP-EXP432E401Y Rev 1.0 BoosterPack II 管脚定义的. 对照 SWRU457A PDF文档</span><br><span class="line"> *  CC3120 SimpleLinkTM Wi-Fi ® BoosterPackTM Plug-InModule and IoT Solution</span><br><span class="line"> *  排针顺序查看官方 MSP_EXP432E401Y_CC3120BOOST.syscfg.json里的BoosterPack Standard Header <span class="comment">#2 部分</span></span><br><span class="line"> */</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"CC3120BOOST"</span>,</span><br><span class="line">    <span class="string">"displayName"</span>: <span class="string">"CC3120BOOST"</span>,</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">"CC3120BOOST Wifi BoosterPack II"</span>,</span><br><span class="line">    <span class="string">"longDescription"</span>: <span class="string">"The [__CC3120BOOST__](https://www.ti.com/tool/CC3120BOOST) BoosterPack&amp;trade; SimpleLink™ Wi-Fi® CC3120 wireless network processor BoosterPack™ plug-in module "</span>,</span><br><span class="line">    <span class="string">"headerType"</span>: <span class="string">"BoosterPack 40 pin"</span>,</span><br><span class="line">    <span class="string">"components"</span>: &#123;</span><br><span class="line">         <span class="string">"CC3120BOOST_SPI"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"CC3120BOOST SPI Bus"</span>,</span><br><span class="line">            <span class="string">"description"</span>: <span class="string">"CC3120BOOST SPI bus"</span>,</span><br><span class="line">            <span class="string">"longDescription"</span>: <span class="string">"CC3120BOOST SPI bus"</span>,</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"SPI_BUS"</span>,</span><br><span class="line">            <span class="string">"signals"</span> : &#123;</span><br><span class="line">                /* PQ0:  BoosterPack standard: SPI CLK */</span><br><span class="line">                <span class="string">"SCLK"</span>  : &#123;<span class="string">"type"</span>: <span class="string">"SPI_SCLK"</span>,  <span class="string">"connection"</span> : 7&#125;,</span><br><span class="line">                /* PQ1:  BoosterPack standard: SPI FSS */</span><br><span class="line">                <span class="string">"SS"</span>  : &#123;<span class="string">"type"</span>: <span class="string">"SPI_SS"</span>,  <span class="string">"connection"</span> : 12&#125;,</span><br><span class="line">                /* PQ2: BoosterPack standard: SPI MOSI */</span><br><span class="line">                <span class="string">"MOSI"</span>  : &#123;<span class="string">"type"</span>: <span class="string">"SPI_MOSI"</span>,  <span class="string">"connection"</span> : 15&#125;,</span><br><span class="line">                /* PQ3: BoosterPack standard: SPI MISO */</span><br><span class="line">                <span class="string">"MISO"</span>   : &#123;<span class="string">"type"</span>: <span class="string">"SPI_MISO"</span>,   <span class="string">"connection"</span> : 14&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"CC3120BOOST_UART"</span>: &#123;</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/uart.json"</span>,</span><br><span class="line">            <span class="string">"connections"</span>: &#123;</span><br><span class="line">                <span class="string">"RXD"</span>: 4,     /* PP1 */</span><br><span class="line">                <span class="string">"TXD"</span>: 3      /* PP0 */</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"IRQ"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"IRQ"</span>,</span><br><span class="line">            /* <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalInput.json"</span>,*/</span><br><span class="line">            /* PM7 这里要注手册说明这里是OUT,对应于MSP432E401Y的管脚就是IN,所以这里是INPUT,下同. */</span><br><span class="line">            <span class="string">"signals"</span>: &#123;</span><br><span class="line">                        <span class="string">"INTERRUPT"</span>: &#123;</span><br><span class="line">                            <span class="string">"type"</span>: <span class="string">"DIN"</span>,</span><br><span class="line">                            <span class="string">"settings"</span>: &#123;</span><br><span class="line">                                <span class="string">"pull"</span>: <span class="string">"None"</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="string">"connection"</span>: 19</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"CS"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"CS"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalOutput.json"</span>,</span><br><span class="line">            /* PP5 */</span><br><span class="line">            <span class="string">"connections"</span>: &#123; <span class="string">"OUTPUT"</span> : 18 &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"nHIB"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"nHIB"</span>,</span><br><span class="line">            <span class="string">"description"</span>: <span class="string">"nHIB power pin"</span>,</span><br><span class="line">            <span class="string">"longDescription"</span>: <span class="string">"nHIB power pin"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalOutput.json"</span>,</span><br><span class="line">            /* *RX */</span><br><span class="line">            <span class="string">"connections"</span>: &#123; <span class="string">"OUTPUT"</span> : 5 &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"nRESET"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"nRESET"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalOutput.json"</span>,</span><br><span class="line">            /* RST */</span><br><span class="line">            <span class="string">"connections"</span>: &#123; <span class="string">"OUTPUT"</span> : 16 &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"NWP_LOG_TX"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"NWP_LOG_TX"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalInput.json"</span>,</span><br><span class="line">            /* PH0 */</span><br><span class="line">            <span class="string">"connections"</span>: &#123; <span class="string">"INPUT"</span> : 34 &#125;,</span><br><span class="line">            <span class="string">"settings"</span>: &#123;</span><br><span class="line">                <span class="string">"DIN"</span>: &#123;</span><br><span class="line">                    <span class="string">"pull"</span>: <span class="string">"Pull Up"</span>,</span><br><span class="line">                    <span class="string">"interruptTrigger"</span>: <span class="string">"Raising Edge"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"WLAN_LOG_TX"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"WLAN_LOG_TX"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/digitalInput.json"</span>,</span><br><span class="line">            /* PH1 */</span><br><span class="line">            <span class="string">"connections"</span>: &#123; <span class="string">"INPUT"</span> : 33 &#125;,</span><br><span class="line">            <span class="string">"settings"</span>: &#123;</span><br><span class="line">                <span class="string">"DIN"</span>: &#123;</span><br><span class="line">                    <span class="string">"pull"</span>: <span class="string">"Pull Up"</span>,</span><br><span class="line">                    <span class="string">"interruptTrigger"</span>: <span class="string">"Raising Edge"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在工程目录内的<code>.syscfg</code>文件里加上<code>const CC3120BOOST = scripting.addHardware(&quot;/ti/boards/boosterpacks/CC3120BOOST&quot;, &quot;boosterpack2&quot;);</code>这一行,打开<code>SysConfig</code>编辑界面如下:<br><img src="/imgs/ti/sysconfig_cc3120boost.png" alt="sysconfig_cc3120boost"></p>
</li>
<li>如上图所示,这里还自定义一个板子的定义,就是在<code>/ti/boards/MSP_EXP432E401Y</code>基础上删除了<code>MICROUSB</code>定义,命名为<code>/ti/boards/MSP_EXP432E401Y_WITHOUT_USB</code>,但是自定义的<code>CC3120BOOST</code>文件还是不能添加<code>nRESET,nHIB</code>这两个管脚,还是与板子的定义有冲突,这也可能是为什么官方不出一个<code>boosterpacks/CC3120BOOST</code>的组件.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"MICROUSB"</span>: &#123;</span><br><span class="line">            <span class="string">"displayName"</span>: <span class="string">"USB Micro Connector"</span>,</span><br><span class="line">            <span class="string">"description"</span>: <span class="string">"USB Micro-A / -B Connector"</span>,</span><br><span class="line">            <span class="string">"definition"</span>: <span class="string">"/ti/boards/components/usb.json"</span>,</span><br><span class="line">            <span class="string">"connections"</span>: &#123;</span><br><span class="line">                <span class="string">"DM"</span>: <span class="string">"93"</span>,     /* PL7 */</span><br><span class="line">                <span class="string">"DP"</span>: <span class="string">"94"</span>,     /* PL6 */</span><br><span class="line">                <span class="string">"ID"</span>: <span class="string">"95"</span>,     /* PB0 */</span><br><span class="line">                <span class="string">"VBUS"</span>: <span class="string">"96"</span>,   /* PB1 */</span><br><span class="line">                <span class="string">"EPEN"</span>: <span class="string">"127"</span>,  /* PD6 */</span><br><span class="line">                <span class="string">"PFLT"</span>: <span class="string">"128"</span>,  /* PD7 */</span><br><span class="line">                <span class="string">"CLK"</span>: <span class="string">"92"</span>,    /* PB3 */</span><br><span class="line">                <span class="string">"D0"</span>: <span class="string">"81"</span>,     /* PL0 */</span><br><span class="line">                <span class="string">"D1"</span>: <span class="string">"82"</span>,     /* PL1 */</span><br><span class="line">                <span class="string">"D2"</span>: <span class="string">"83"</span>,     /* PL2 */</span><br><span class="line">                <span class="string">"D3"</span>: <span class="string">"84"</span>,     /* PL3 */</span><br><span class="line">                <span class="string">"D4"</span>: <span class="string">"85"</span>,     /* PL4 */</span><br><span class="line">                <span class="string">"D5"</span>: <span class="string">"86"</span>,     /* PL5 */</span><br><span class="line">                <span class="string">"D6"</span>: <span class="string">"106"</span>,    /* PP5 */</span><br><span class="line">                <span class="string">"D7"</span>: <span class="string">"105"</span>,    /* PP4 */</span><br><span class="line">                <span class="string">"DIR"</span>: <span class="string">"104"</span>,   /* PP3 */</span><br><span class="line">                <span class="string">"NXT"</span>: <span class="string">"103"</span>,   /* PP2 */</span><br><span class="line">                <span class="string">"STP"</span>: <span class="string">"91"</span>     /* PB2 */</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="CC2650-Module-BoosterPack蓝牙模块"><a href="#CC2650-Module-BoosterPack蓝牙模块" class="headerlink" title="CC2650 Module BoosterPack蓝牙模块"></a>CC2650 Module BoosterPack蓝牙模块</h2><h3 id="烧写蓝牙固件"><a href="#烧写蓝牙固件" class="headerlink" title="烧写蓝牙固件"></a>烧写蓝牙固件</h3><ul>
<li><a href="https://github.com/Venemo/cc26xx-ble-stack-example" target="_blank" rel="noopener">cc26xx-ble-stack-example</a></li>
</ul>
<ul>
<li><code>Windows</code>端可以使用<code>SmartRF FlashProgrammer 2</code>来烧写,但是需要一根标准JTAG线,且要把<code>MSP432E4 LaunchPad</code>上的<code>J101</code>跳线<code>TDI,TDO,TCK,TMS,RST</code>去掉,只留<code>GND,3V3</code>这两根跳线,使用<code>标准的10pin JTAG</code>线从<code>J102</code>连接<code>XDS-110 JTAG</code>调试信号,具体操作如下图所示.</li>
<li><img src="/imgs/ti/msp432e4-smartrf-fp.jpg" alt="msp432e4-smartrf-fp.jpg"></li>
<li><img src="/imgs/ti/srf-fp2.jpg" alt="srf-fp2.jpg"></li>
<li><code>Linux</code>端使用<code>UniFlash</code>命令行来烧写,UniFlash本身是一个GUI烧写的工具,在选择目标设备有两种:<code>On-chip</code>是透过<code>JTAG</code>烧写,<code>Serial</code>是通过<code>serial bootloader</code>烧写.但是我在实际中用<code>On-Chip</code>烧写失败,用命令行烧写是显示成功的.接线与跳线部分还是上图那样,先要用<code>UniFlash</code>生成一个<code>ccxml</code>配置文件,具体如下图,点击<code>Start</code>后,按上方的<code>download.ccxml</code>保存到文件夹内.</li>
<li><img src="/imgs/ti/uniflash-msp432e4-cc2650f128.png" alt="uniflash-msp432e4-cc2650f128.png"></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">./dslite.sh -c ~/CC2650F128.ccxml --list-device-cmds</span><br><span class="line">Executing the following <span class="built_in">command</span>:</span><br><span class="line">&gt; /fulllpath/uniflash_5.0.0/deskdb/content/TICloudAgent/linux/ccs_base/DebugServer/bin/DSLite flash</span><br><span class="line">-c ~/CC2650F128.ccxml --list-device-cmds</span><br><span class="line"></span><br><span class="line">For more details and examples, please refer to the UniFlash Quick Start guide.</span><br><span class="line"></span><br><span class="line">Cortex_M3_0: GEL Output: Memory Map Initialization Complete.</span><br><span class="line">Cortex_M3_0: GEL Output:</span><br><span class="line">-------------------------------------------------</span><br><span class="line"> COMMAND    DESCRIPTION</span><br><span class="line"> PinReset   Reset CC13xx/CC26xx device using reset pin.</span><br><span class="line"> MassErase  Erase flash using mass erase (cannot be combined with</span><br><span class="line">            other operations). If the device debug interface is</span><br><span class="line">            locked, a target configuration file (.ccxml) with</span><br><span class="line">            argument custom=<span class="string">"no"</span> must be used.</span><br><span class="line">-------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./dslite.sh  -c ~/CC2650F128.ccxml --post-flash-device-cmd PinReset  -e -v</span><br><span class="line">-f  /fullpath/simplelink_sdk_ble_plugin_3_20_00_24/<span class="built_in">source</span>/ti/snp/cc2650/simple_np_cc2650bp_uart_pm_sbl_2_02_01_18a_merge.hex</span><br><span class="line">Executing the following <span class="built_in">command</span>:</span><br><span class="line">&gt; /fullpath/uniflash_5.0.0/deskdb/content/TICloudAgent/linux/ccs_base/DebugServer/bin/DSLite flash -c ~/CC2650F128.ccxml</span><br><span class="line">--post-flash-device-cmd PinReset -e -f</span><br><span class="line">-v /fullpath/simplelink_sdk_ble_plugin_3_20_00_24/<span class="built_in">source</span>/ti/snp/cc2650/simple_np_cc2650bp_uart_pm_sbl_2_02_01_18a_merge.hex</span><br><span class="line"></span><br><span class="line">For more details and examples, please refer to the UniFlash Quick Start guide.</span><br><span class="line"></span><br><span class="line">DSLite version 9.1.0.1655</span><br><span class="line">Configuring Debugger (may take a few minutes on first launch)...</span><br><span class="line">	Initializing Register Database...</span><br><span class="line">	Initializing: IcePick_C</span><br><span class="line">	Executing Startup Scripts: IcePick_C</span><br><span class="line">	Initializing: CS_DAP_0</span><br><span class="line">	Executing Startup Scripts: CS_DAP_0</span><br><span class="line">	Initializing: Cortex_M3_0</span><br><span class="line">	Executing Startup Scripts: Cortex_M3_0</span><br><span class="line">[.....]</span><br><span class="line">	sorting and removing duplicate symbols: 100%</span><br><span class="line">Cortex_M3_0: GEL Output: Doing Pin Reset ...</span><br></pre></td></tr></table></figure>
<ul>
<li>参数解释,具体更详细的参数说明,<code>dslite.sh --help</code>.<ul>
<li>-c 指定ccxml配置文件的位置.</li>
<li>-e 详细显示模式</li>
<li>-f 烧写文件,这个固件文件可以在<code>simplelink_sdk_ble_plugin_3_20_00_24</code>官方的SDK里面.</li>
<li>-v 烧写完成后,校验烧写文件.</li>
</ul>
</li>
</ul>
<h1 id="单片机入门"><a href="#单片机入门" class="headerlink" title="单片机入门"></a>单片机入门</h1><ul>
<li>时钟周期<ul>
<li>时钟周期也称为振荡周期,定义为时钟脉冲的倒数(时钟周期就是单片机外接晶振的倒数,例如12M的晶振,它的时间周期就是1/12 us),是计算机中最基本的、最小的时间单位,也称节拍脉冲或T周期.在一个时钟周期内,CPU仅完成一个最基本的动作.对于某种单片机,若采用了1MHZ的时钟频率,则时钟周期为1us；1秒(s)等于1000毫秒(ms),等于1000000微秒(us).</li>
<li>1秒(s) = 1000毫秒(ms)<br>1毫秒(ms) = 1000微秒(us)<br>1微秒(us) = 1000纳秒(ns)<br>1纳秒(ns) = 1000皮秒(ps)</li>
<li>在8051单片机中把一个时钟周期定义为一个节拍(用P表示),二个节拍定义为一个状态周期(用S表示).</li>
</ul>
</li>
<li>机器周期<ul>
<li>在计算机中,为了便于管理,常把一条指令的执行过程划分为若干个阶段,每一阶段完成一项工作.例如:取指令、读存储器、写存储器等,这每一项工作称为一个基本操作.完成一个基本操作所需要的时间称为机器周期.一般情况下,一个机器周期由若干个S周期(状态周期)组成.8051系列单片机的一个机器周期同6个S周期(状态周期)组成.前面已经说过一个时钟周期定义为一个节拍(用P表示),二个节拍定义为一个状态周期(用S表示),8051单片机的机器周期由6个状态周期组成,也就是说一个机器周期=6个状态周期=12个时钟周期.</li>
</ul>
</li>
<li>指令周期<ul>
<li>指令周期是执行一条指令所需要的时间,一般由若干个机器周期组成.指令不同,所需的机器周期数也不同.对于一些简单的的单字节指令,在取指令周期中,指令取出到指令寄存器后,立即译码执行,不再需要其它的机器周期.对于一些比较复杂的指令,例如:转移指令、乘法指令,则需要两个或者两个以上的机器周期.</li>
</ul>
</li>
</ul>
<h2 id="字节顺序"><a href="#字节顺序" class="headerlink" title="字节顺序"></a>字节顺序</h2><ul>
<li>对于单一的字节(a byte),大部分处理器以相同的顺序处理位元(bit),因此单字节的存放方法和传输方式一般相同.</li>
</ul>
<h3 id="位序"><a href="#位序" class="headerlink" title="位序"></a>位序</h3><ul>
<li>对于多字节数据,如整数(32位机中一般占4字节),在不同的处理器的存放方式主要有两种,以内存中0x0A0B0C0D的存放方式为例,分别有以下几种方式</li>
<li><p><strong>大端(Big-Endian)</strong></p>
<ul>
<li>高位字节存储在低位内存地址,低位字节存储在高位内存地址</li>
<li>如:地址方向是左低右高,数据以8bit为单位时:<code>0x0A0B0C0D</code> ,数据以16bit为单位时:<code>0x0A0B0C0D</code></li>
<li>网络传输一般采用大端序,也被称之为网络字节序,或网络序.IP协议中定义大端序为网络字节序.</li>
<li>先传高位(MSB)的串行协议:<ul>
<li>I2C</li>
<li>SPI</li>
<li>摩尔斯电码</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>小端(Little-Endian)</strong></p>
<ul>
<li>低位字节存储在低位内存地址,高位字节存储在高位内存地址.</li>
<li>如:地址方向是左低右高,数据以8bit为单位时:<code>0x0D0C0B0A</code> ,数据以16bit为单位时:<code>0x0C0D0A0B</code>.</li>
<li>先传低位(LSB)的串行协议:<ul>
<li>RS-232</li>
<li>RS-422</li>
<li>RS-485</li>
<li>USB</li>
<li>以太网(虽然高字节先传,但每一字节内低位先传)</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>最高有效位MSB(the most significant bit)</strong></p>
<ul>
<li>指多字节序列中具有最大权重的字节.在大端序中,msb即指最左端的位.对于有符号二进制数,负数采用反码或补码形式,此时msb用来表示符号,msb为1表示负数,0表示正数.</li>
</ul>
</li>
<li><p><strong>最低有效位LSB(the least significant bit)</strong></p>
<ul>
<li>指多字节序列中最小权重的字节,是指一个二进制数字中的第0位(即最低位),权值为2^0,可以用它来检测数的奇偶性.与之相反的称之为最高有效位.在大端序中,<br>lsb指最右边的位.</li>
</ul>
</li>
<li><p><strong>不同编码的字节顺序标</strong><br> | 编码           | 表标(16进制) |<br> | ————– | ———— |<br> | UTF-16(大端序) | FE FF        |<br> | UTF-16(小端序) | FF FE        |<br> | UTF-32(大端序) | 00 00 FE FF  |<br> | UTF-32(小端序) | FF FE 00 00  |</p>
</li>
</ul>
<h1 id="安装自己的Mosquitto服务器"><a href="#安装自己的Mosquitto服务器" class="headerlink" title="安装自己的Mosquitto服务器"></a>安装自己的Mosquitto服务器</h1><ul>
<li><a href="https://jpmens.net/2014/07/03/the-mosquitto-mqtt-broker-gets-websockets-support/" target="_blank" rel="noopener">The Mosquitto MQTT broker gets Websockets support</a></li>
</ul>
<ul>
<li>开启简单用户认证<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 创建文件,并添加一个用户.</span><br><span class="line">~$ sudo mosquitto_passwd -c /etc/mosquitto/passwd sammy</span><br><span class="line">// 添加一个用户</span><br><span class="line">~$ sudo mosquitto_passwd /etc/mosquitto/passwd user2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="发行版安装"><a href="#发行版安装" class="headerlink" title="发行版安装"></a>发行版安装</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">~$ sudo apt-get install mosquitto -y</span><br><span class="line">~$ sudo cat &gt; /etc/mosquitto/conf.d/default.conf&lt;&lt;EOF</span><br><span class="line">autosave_interval 1800</span><br><span class="line">persistence_file m2.db</span><br><span class="line">connection_messages <span class="literal">true</span></span><br><span class="line">log_timestamp <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">listener 1883</span><br><span class="line">protocol mqtt</span><br><span class="line"></span><br><span class="line">listener 8883</span><br><span class="line"><span class="comment"># protocol mqtt</span></span><br><span class="line"><span class="comment"># cafile /etc/mosquitto/certs/ca.crt</span></span><br><span class="line"><span class="comment"># keyfile /etc/mosquitto/certs/privkey.pem</span></span><br><span class="line"><span class="comment"># certfile /etc/mosquitto/certs/fullchain.pem</span></span><br><span class="line"></span><br><span class="line">allow_anonymous <span class="literal">false</span></span><br><span class="line">password_file /etc/mosquitto/passwd</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<ul>
<li>配置<code>websockets</code>,需要用的证书文件.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">~<span class="comment"># ln -svf /etc/letsencrypt/live/&lt;domain&gt;/privkey.pem  /etc/mosquitto/certs/privkey.pem</span></span><br><span class="line">~<span class="comment"># ln -svf /etc/letsencrypt/live/&lt;domain&gt;/fullchain.pem  /etc/mosquitto/certs/fullchain.pem</span></span><br><span class="line">~$ sudo cat &gt; /etc/mosquitto/conf.d/websockets.conf&lt;&lt;EOF</span><br><span class="line">listener 8080</span><br><span class="line">protocol websockets</span><br><span class="line"></span><br><span class="line">listener 8083</span><br><span class="line">protocol websockets</span><br><span class="line"><span class="comment"># cafile /etc/mosquitto/certs/ca.crt</span></span><br><span class="line">keyfile /etc/mosquitto/certs/privkey.pem</span><br><span class="line">certfile /etc/mosquitto/certs/fullchain.pem</span><br><span class="line">websockets_log_level 3</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">~$ ufw allow 8080/tcp</span><br><span class="line">~$ ufw allow 8883/tcp</span><br><span class="line">~$ systemctl restart mosquitto</span><br><span class="line">mosquitto -c /etc/mosquitto/mosquitto.conf -v</span><br></pre></td></tr></table></figure>
<h2 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h2><ul>
<li>如果要尝试新功能,可以如下操作.<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">~$ apt-get install cmake libwebsockets-dev libwebsockets8 libc-ares-dev uthash-dev -y</span><br><span class="line">~$ git <span class="built_in">clone</span> https://github.com/eclipse/mosquitto</span><br><span class="line">~$ mkdir -pv mosquitto/build &amp;&amp; <span class="built_in">cd</span> mosquitto/build</span><br><span class="line">~$ cmake -DWITH_SRV=yes -DWITH_WEBSOCKETS=yes  -DWITH_THREADING=yes -DWITH_TLS=yes -DWITH_DOCS=no  ../</span><br><span class="line">~$ make  WITH_SRV=yes WITH_WEBSOCKETS=yes WITH_TLS=yes  WITH_DOCS=no -j4</span><br><span class="line">~$ make install/<span class="built_in">local</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="调试程序跑飞的原因"><a href="#调试程序跑飞的原因" class="headerlink" title="调试程序跑飞的原因"></a>调试程序跑飞的原因</h2><ul>
<li><a href="https://e2e.ti.com/support/archive/stellaris_arm/f/471/t/161501?Saving-program-counter-in-Fault-ISR" target="_blank" rel="noopener">Saving program counter in Fault ISR</a></li>
<li><a href="https://www.freertos.org/Debugging-Hard-Faults-On-Cortex-M-Microcontrollers.html" target="_blank" rel="noopener">Debugging Hard Fault &amp; Other Exceptions </a></li>
<li><a href="https://www.ti.com/lit/an/spma043/spma043.pdf" target="_blank" rel="noopener">Diagnosing Software Faults</a></li>
<li><a href="https://www.ti.com/lit/ug/slau723a/slau723a.pdf" target="_blank" rel="noopener">MSP432E401Y SimpleLink™  User Guide.pdf</a></li>
<li><a href="https://interrupt.memfault.com/blog/cortex-m-fault-debug" target="_blank" rel="noopener">How to debug a HardFault on an ARM Cortex-M MCU</a></li>
<li><a href="https://interrupt.memfault.com/blog/arm-cortex-m-exceptions-and-nvic" target="_blank" rel="noopener">A Practical guide to ARM Cortex-M Exception Handling</a></li>
</ul>
<ul>
<li>在开发嵌入式系统程序时,会碰到各种无理头的问题,最严重是它跑飞了,直接进了<code>faultISR(void)</code>里去<code>while</code>.不知道是那里出错了,首先在<code>faultISR(void)</code>函数开始处下一个断点,这里是通过目标<code>map</code>文件找到该文件的指针地址,进入到工程编译成后的<code>Debug</code>内,打开<code>xxx.map</code>,文本搜寻<code>faultISR</code>, 如下图所示,<code>faultISR</code>在<code>.text</code>段内的<code>0x00041724</code>的位置.<br><img src="/imgs/ti/ccsv9_map_search_faultISR.png" alt="ccsv9_map_search_faultISR.png"></li>
<li>在<code>CCS IDE</code>的调试状态下,打开<code>CCS Debug --&gt; Disassembly</code>,输入<code>0x00041724</code>搜索,设置断点.再重新运行一次调试.<br><img src="/imgs/ti/ccsv9_debug_registers_disasmbly.png" alt="ccsv9_debug_registers_disasmbly.png"></li>
<li>此时程序跑飞后停在了<code>faultISR(void)</code>处,再根据系统内在各种寄存器来定位出错的位置.<br><img src="/imgs/ti/ccsv9_debug_registers_core.png" alt="ccsv9_debug_registers_core.png"></li>
<li>如上图所示,在<code>CCS Debug --&gt; Registers --&gt; Core Registers</code>内会看到<code>PC,SP,LR</code>三个寄存器名,关于寄存器的技术细节一定要参照《Cortex M3与M4权威指南》这本手册书去理解,还有<a href="https://www.ti.com/lit/ug/slau723a/slau723a.pdf" target="_blank" rel="noopener">MSP432E401Y SimpleLink™  User Guide.pdf</a>的手册.这里如果显示<code>LR</code>内<code>value</code>是一个非法无效的值如: 0xFFFFFFFE,就参考<code>SP</code>的值,把<code>SP</code>内的值输入到<code>CCS Debug --&gt; Memory Browser</code>内.<br><img src="/imgs/ti/ccsv9_debug_memory_browser.png" alt="ccsv9_debug_memory_browser.png"></li>
<li>如上图所示,从<code>0x2003FFE0</code>开始每4个字节对应一个寄存器,它们依次是<code>R0,R1,R2,R3,R12,LR,PC,XPSR</code>,先用工具链内的<code>objdump</code>把目标烧写文件反汇编到一个文本文件:</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~$ ./ccs920/ccs/tools/compiler/ti-cgt-arm_18.12.6.LTS/bin/arm-none-eabi-objdump -d  xxxxxx.out  &gt; ~/mps432-debug.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>如上图所示,按顺序查看到<code>LR</code>的值是<code>0x00031A01</code>,打开<code>msp432-debug.txt</code>,查找<code>31a00</code>,就会找到对应出错的函数位置.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">EXC_RETURN Value</th>
<th style="text-align:center">Mode to Return To</th>
<th style="text-align:center">Stack to use</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0xFFFFFFF1</td>
<td style="text-align:center">Handler Mode</td>
<td style="text-align:center">MSP</td>
</tr>
<tr>
<td style="text-align:left">0xFFFFFFF9</td>
<td style="text-align:center">Thread Mode</td>
<td style="text-align:center">MSP</td>
</tr>
<tr>
<td style="text-align:left">0xFFFFFFFD</td>
<td style="text-align:center">Thread Mode</td>
<td style="text-align:center">PSP</td>
</tr>
<tr>
<td style="text-align:left">0xFFFFFFE1</td>
<td style="text-align:center">Handler Mode (FPU Extended Frame)</td>
<td style="text-align:center">MSP</td>
</tr>
<tr>
<td style="text-align:left">0xFFFFFFE9</td>
<td style="text-align:center">Thread Mode (FPU Extended Frame)</td>
<td style="text-align:center">MSP</td>
</tr>
<tr>
<td style="text-align:left">0xFFFFFFED</td>
<td style="text-align:center">Thread Mode (FPU Extended Frame)</td>
<td style="text-align:center">PSP</td>
</tr>
</tbody>
</table>
<h3 id="调试Bus-Fault"><a href="#调试Bus-Fault" class="headerlink" title="调试Bus Fault"></a>调试Bus Fault</h3><p><img src="/imgs/ti/ccsv9_debug_registers_nvic_fault_addr.png" alt="ccsv9_debug_registers_nvic_fault_addr.png"></p>
<ul>
<li>当中断在<code>faultISR</code>时,查看到<code>NVIC</code>里的寄存器的值如上图所示,这里<code>NVIC Fault Status (NVIC_FAULT_STAT)</code>的值是<code>0x00008200</code>这里代表它是一个<code>Usage Fault</code>,再展开显示详情<code>Divide-by-Zero Usage Fault</code>.,参考来源《Cortex M3与M4权威指南》第七章,7.4 “优先级定义”,表7.5, 还有参考<a href="https://www.ti.com/lit/ug/slau723a/slau723a.pdf" target="_blank" rel="noopener">MSP432E401Y SimpleLink™  User Guide.pdf</a>,1.5小节《内存模型》<code>表1-15 Memory Map</code>.</li>
<li>在这里<code>NVIC Fault Address (NVIC_FAULT_ADDR)</code>的值显示是<code>0x2004.0014</code>,参考<code>表1-15 Memory Map</code>它出错是在<code>SRAM</code>里.假如是:<code>0x4003.100C</code>表示出错在<code>Timer1</code>这个硬件地址,是一个<code>Bus Fault</code>,它的出错主要原因的:程序去访问了没有使能的外设,需要先使能,再访问.</li>
<li><p><code>objectdump</code>出错.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~$ ./ccs920/ccs/tools/compiler/ti-cgt-arm_18.12.6.LTS/bin/arm-none-eabi-objdump --<span class="built_in">help</span></span><br><span class="line">arm-none-eabi-objdump: loadlocale.c:129: _nl_intern_locale_data: Assertion `cnt &lt; (sizeof (_nl_value_type_LC_TIME) / sizeof (_nl_value_type_LC_TIME[0]))<span class="string">' failed.</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置<code>LANG</code>环境变量.<code>export LANG=/usr/lib/locale/en_US</code>,再次运行正常.</p>
</li>
</ul>
<h1 id="Energia"><a href="#Energia" class="headerlink" title="Energia"></a>Energia</h1><ul>
<li><a href="https://energia.nu/guide/install/linux/" target="_blank" rel="noopener">Installing the LaunchPad drivers</a></li>
<li><a href="https://energia.nu/" target="_blank" rel="noopener">Energia</a>是一个开源和社区驱动型集成开发环境(IDE)与软件框架与Arduino的设计理念是一样的.<code>Energia</code>基于接线框架,为微控<br>制器编程提供了直观的编码环境和由易于使用的功能API及库构成的可靠框架.<code>Energia</code>支持多种 TI 处理器,主要包括可从<code>LaunchPad</code>开发生态系统获得的处理<br>器.<code>Energia</code>是开源产品,源代码可从<a href="www.github.com/energia/energia">github</a>获得.</li>
<li>总体来说,<code>Energia</code>是从<code>Arduino</code>分支出来,但是支持的库不是很多,而且最新的版本是<code>2019</code>出的,后续版本好像没有看到.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">~$ cat /etc/udev/rules.d/71-ti-permissions.rules</span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0403"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"a6d0"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0403"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"a6d1"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0403"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"6010"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"1cbe"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"00fd"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"1cbe"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"00ff"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"bef1"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"bef2"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"bef3"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"bef4"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"f432"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>,ENV&#123;DEVTYPE&#125;==<span class="string">"usb_device"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0d28"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"0204"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">KERNEL==<span class="string">"hidraw*"</span>,ATTRS&#123;busnum&#125;==<span class="string">"*"</span>,ATTRS&#123;idVendor&#125;==<span class="string">"0d28"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"0204"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line">ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"bef0"</span>,ENV&#123;ID_MM_DEVICE_IGNORE&#125;=<span class="string">"1"</span></span><br><span class="line">ATTRS&#123;idVendor&#125;==<span class="string">"0c55"</span>,ATTRS&#123;idProduct&#125;==<span class="string">"0220"</span>,ENV&#123;ID_MM_DEVICE_IGNORE&#125;=<span class="string">"1"</span></span><br><span class="line">KERNEL==<span class="string">"ttyACM[0-9]*"</span>,MODE:=<span class="string">"0666"</span></span><br><span class="line"></span><br><span class="line">SUBSYSTEM==<span class="string">"usb"</span>, ATTRS&#123;idVendor&#125;==<span class="string">"0451"</span>, ATTRS&#123;idProduct&#125;==<span class="string">"c32a"</span>, MODE=<span class="string">"0660"</span>, GROUP=<span class="string">"dialout"</span>, RUN+=<span class="string">"/sbin/modprobe ftdi-sio"</span> RUN+=<span class="string">"/bin/sh -c '/bin/echo 0451 c32a &gt; /sys/bus/usb-serial/drivers/ftdi_sio/new_id'"</span></span><br></pre></td></tr></table></figure>
<h1 id="谢谢支持"><a href="#谢谢支持" class="headerlink" title="谢谢支持"></a>谢谢支持</h1><ul>
<li>微信二维码:</li>
<li><a href="mailto:yjdwbj@gmail.com" target="_blank" rel="noopener">联系作者</a></li>
</ul>
<p><img src="/imgs/mm_reward_qrcode_1525013906055.png" width="40%" height="40%" align="center/"></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/嵌入式-TI-Linux/" rel="tag"># 嵌入式,TI,Linux</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/11/09/STM32CubeMX使用指南/" rel="prev" title="STM32CubeMX使用指南">
      <i class="fa fa-chevron-left"></i> STM32CubeMX使用指南
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/02/12/使用国外VPS指南-Linode/" rel="next" title="使用国外VPS指南-Linode">
      使用国外VPS指南-Linode <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#概述"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开箱即用体验"><span class="nav-number">1.1.</span> <span class="nav-text">开箱即用体验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CC3120-BoosterPack-插件模块"><span class="nav-number">1.2.</span> <span class="nav-text">CC3120 BoosterPack 插件模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TI-云工具平台"><span class="nav-number">2.</span> <span class="nav-text">TI 云工具平台</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#桌面版IDE安装-CCSv9"><span class="nav-number">3.</span> <span class="nav-text">桌面版IDE安装(CCSv9)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">3.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装-SDK"><span class="nav-number">3.2.</span> <span class="nav-text">安装 SDK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过使用TI-Resource-Explorer安装"><span class="nav-number">3.3.</span> <span class="nav-text">通过使用TI Resource Explorer安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#手动安装"><span class="nav-number">3.4.</span> <span class="nav-text">手动安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导入官方-CCS-示例工程"><span class="nav-number">3.5.</span> <span class="nav-text">导入官方 CCS 示例工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置FreeRTOS目录"><span class="nav-number">3.5.1.</span> <span class="nav-text">设置FreeRTOS目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置工程参数"><span class="nav-number">3.5.2.</span> <span class="nav-text">设置工程参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CC3100BOOST无线WIFI模块"><span class="nav-number">3.6.</span> <span class="nav-text">CC3100BOOST无线WIFI模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Format格式化SPI闪存"><span class="nav-number">3.6.1.</span> <span class="nav-text">Format格式化SPI闪存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看文件系统"><span class="nav-number">3.6.2.</span> <span class="nav-text">查看文件系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#烧入Service-Pack-Programming"><span class="nav-number">3.6.3.</span> <span class="nav-text">烧入Service Pack Programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置CC31xx-CC32xx-Config-Groups"><span class="nav-number">3.6.4.</span> <span class="nav-text">配置CC31xx/CC32xx Config Groups</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CC3120BOOST无线Wifi模块"><span class="nav-number">3.7.</span> <span class="nav-text">CC3120BOOST无线Wifi模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#下载第一个测试工程Network-termial"><span class="nav-number">3.7.1.</span> <span class="nav-text">下载第一个测试工程Network_termial</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Uniflash-v5"><span class="nav-number">3.7.2.</span> <span class="nav-text">Uniflash v5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GUI图形配置"><span class="nav-number">3.7.3.</span> <span class="nav-text">GUI图形配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Simple配置"><span class="nav-number">3.7.3.1.</span> <span class="nav-text">Simple配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Anvanced配置"><span class="nav-number">3.7.3.2.</span> <span class="nav-text">Anvanced配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Genernal"><span class="nav-number">3.7.3.2.1.</span> <span class="nav-text">Genernal</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#System-Setting"><span class="nav-number">3.7.3.2.2.</span> <span class="nav-text">System Setting</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Files"><span class="nav-number">3.7.3.2.3.</span> <span class="nav-text">Files</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SysConfig"><span class="nav-number">4.</span> <span class="nav-text">SysConfig</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-number">4.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">4.2.</span> <span class="nav-text">配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义资源文件"><span class="nav-number">4.3.</span> <span class="nav-text">自定义资源文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CC2650-Module-BoosterPack蓝牙模块"><span class="nav-number">4.4.</span> <span class="nav-text">CC2650 Module BoosterPack蓝牙模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#烧写蓝牙固件"><span class="nav-number">4.4.1.</span> <span class="nav-text">烧写蓝牙固件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#单片机入门"><span class="nav-number">5.</span> <span class="nav-text">单片机入门</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#字节顺序"><span class="nav-number">5.1.</span> <span class="nav-text">字节顺序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#位序"><span class="nav-number">5.1.1.</span> <span class="nav-text">位序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安装自己的Mosquitto服务器"><span class="nav-number">6.</span> <span class="nav-text">安装自己的Mosquitto服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#发行版安装"><span class="nav-number">6.1.</span> <span class="nav-text">发行版安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#源码安装"><span class="nav-number">6.2.</span> <span class="nav-text">源码安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调试程序跑飞的原因"><span class="nav-number">6.3.</span> <span class="nav-text">调试程序跑飞的原因</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#调试Bus-Fault"><span class="nav-number">6.3.1.</span> <span class="nav-text">调试Bus Fault</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Energia"><span class="nav-number">7.</span> <span class="nav-text">Energia</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#谢谢支持"><span class="nav-number">8.</span> <span class="nav-text">谢谢支持</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="yjdwbj"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">yjdwbj</p>
  <div class="site-description" itemprop="description">最是人间留不住,朱颜辞镜花辞树</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yjdwbj</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
